<!DOCTYPE html><!--STATUS OK-->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1,maximum-scale=8.0, user-scalable=yes">
<meta name="keywords" content="提要,数学九章序,数学九章卷一上,数学九章卷一下,数学九章卷二上,数学九章卷二下,数学九章卷三上,数学九章卷三下,数学九章卷四上,数学九章卷四下,数学九章卷五上,数学九章卷五下,数学九章卷六上,数学九章卷六下,数学九章卷七上,数学九章卷七下,数学九章巻八上,数学九章卷八下,数学九章卷九上,数学九章卷九下,数学九章全文在线阅读,数学九章全文在线下载,大玄古籍书库">
<meta name="description" content="中国南宋秦九韶著。秦九韶自幼喜爱数学，早年曾随父到杭州向太史局(政府主管天文历法的机构)学习过天文历法，后曾任县尉、通判、郡守、知府等，淳祐四年(1244)因母丧解官在家守孝，遂将他多年研究数学所得整理编写成书。本书完成于淳祐七年(1247)全书共收录81个问题，并分为大衍(介绍大衍求一术)、天时(历法推算、降水量计算)、田域(土地面积)、测望(勾股重差)、赋役(“均输”及税收)、钱谷(粮谷转运与仓库容积)、营建(工程施工)、军旅(营房设置与军需供应)、市易(商品交易与利息)等9大类，每类各9题，每题都给">
<title>数学九章_秦九韶_全文阅读_全本下载_大玄古籍</title>
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
<link rel="stylesheet" charset="UTF-8" type="text/css" href="/css/font.css">
<link rel="stylesheet" charset="UTF-8" type="text/css" href="/css/search_book.css">
<link rel="stylesheet" charset="UTF-8" type="text/css" href="/css/loadmaue.css">
<link rel="stylesheet" charset="UTF-8" type="text/css" href="/css/Aimara.css">
</head>
<body>
<div class="iphone style-5">
  <div class="iphone__screen"> <a href="javascript:void(0);" class="nav__trigger"><span class="nav__icon"></span></a>
    <nav class="nav">
      <div id="stdiv"style="word-break:break-all;padding: 12px 4px;z-index:1;border: 2px solid blue;position:fixed;overflow-x: hidden;float:left;width:calc(100% - 14px);height: calc(98% - 24px);">
        <div id="stck0"style="display:block;user-select:none"></div>
        <div id="stck1"style="display:block">书名： <span class="inputVal" id="bkname">数学九章</span> <br/>
          作者： <span class="inputVal" id="bkauthor">秦九韶</span> <br/>
          朝代： <span class="inputVal" id="bkdate">宋代</span> <br/>
          版权： <span class="inputVal" id="bkcopyright">玄之又玄 謂之大玄=學海無涯君是岸=書山絕頂吾为峰=大玄古籍書店獨家出版</span> <br/>
          分类： <span class="inputVal" id="bktype">天文地理,数学,完结</span> <br/>
          字数： <span class="inputVal" id="bknum">[book_length]120017</span> <br/>
          说明： <span class="inputVal" id="bkdec">中国南宋秦九韶著。秦九韶自幼喜爱数学，早年曾随父到杭州向太史局(政府主管天文历法的机构)学习过天文历法，后曾任县尉、通判、郡守、知府等，淳祐四年(1244)因母丧解官在家守孝，遂将他多年研究数学所得整理编写成书。本书完成于淳祐七年(1247)全书共收录81个问题，并分为大衍(介绍大衍求一术)、天时(历法推算、降水量计算)、田域(土地面积)、测望(勾股重差)、赋役(“均输”及税收)、钱谷(粮谷转运与仓库容积)、营建(工程施工)、军旅(营房设置与军需供应)、市易(商品交易与利息)等9大类，每类各9题，每题都给出答案，并附有“术”(以说明解题方法)和“草”(即算草图式，以解释解题步骤)。虽然本书形式上仍为问题集，明显地受到《九章算术》等的影响，但是其内容则远远超过了古代经典著作，在许多方面都有创造，尤其是求解一次同余组的“大衍求一术”和求高次方程数值解的“正负开方术”，不仅在中国数学史上，而且在世界数学史上都具有重要地位。和欧洲同一类成果比较，“正负开方术”要领先500年，而与“大衍求一术”相同的定理则要直到欧拉(1743)和高斯(1801)才得到。本书是中国古代数学的一个高峰。本书在流传中曾有《数术大略》、《数学大略》、《数学九章》等各种大同小异的题名。今可见于《丛书集成》(1269～1273)，上海商务印书馆1935年版。</span> <br/>
          封面： <span class="inputVal" id="bkimg">Z_11387.jpg</span> <img id="bkimgdv"style="margin-left:calc(50% - 100px);width:200px;"/><br/>
        </div>
        <div id="div_tree"></div>
        <span class="btn icon-point-up"style="position:fixed;top:100px;right:6px;cursor:default;float:right;">上置</span></div>
    </nav>
    <div class="iphone__content">
      <div id="bkhet"style="position:fixed;border: 2px solid #ccc;width:calc(100% - 5px);height:98%;">
        <div id="bkdiv" style="background-color:#FAF9DE;color:#FAF9DE;word-break:break-all;width:100%;height:100%;font-size: 24px;font-weight: bold;">
        [book_name]数学九章
[book_author]秦九韶
[book_date]宋代
[book_copyright]玄之又玄 謂之大玄=學海無涯君是岸=書山絕頂吾为峰=大玄古籍書店獨家出版
[book_type]天文地理,数学,完结
[book_length]120017
[book_dec]中国南宋秦九韶著。秦九韶自幼喜爱数学，早年曾随父到杭州向太史局(政府主管天文历法的机构)学习过天文历法，后曾任县尉、通判、郡守、知府等，淳祐四年(1244)因母丧解官在家守孝，遂将他多年研究数学所得整理编写成书。本书完成于淳祐七年(1247)全书共收录81个问题，并分为大衍(介绍大衍求一术)、天时(历法推算、降水量计算)、田域(土地面积)、测望(勾股重差)、赋役(“均输”及税收)、钱谷(粮谷转运与仓库容积)、营建(工程施工)、军旅(营房设置与军需供应)、市易(商品交易与利息)等9大类，每类各9题，每题都给出答案，并附有“术”(以说明解题方法)和“草”(即算草图式，以解释解题步骤)。虽然本书形式上仍为问题集，明显地受到《九章算术》等的影响，但是其内容则远远超过了古代经典著作，在许多方面都有创造，尤其是求解一次同余组的“大衍求一术”和求高次方程数值解的“正负开方术”，不仅在中国数学史上，而且在世界数学史上都具有重要地位。和欧洲同一类成果比较，“正负开方术”要领先500年，而与“大衍求一术”相同的定理则要直到欧拉(1743)和高斯(1801)才得到。本书是中国古代数学的一个高峰。本书在流传中曾有《数术大略》、《数学大略》、《数学九章》等各种大同小异的题名。今可见于《丛书集成》(1269～1273)，上海商务印书馆1935年版。
[book_img]Z_11387.jpg


[book_title]提要
钦定四库全书　　　　　子部六
数学九章　　　　　　　天文算法类二【算书之属】提要
【臣】等谨案数学九章十八卷宋秦九韶撰九韶始末未详惟据原序自称其籍曰鲁郡然序题淳祐七年鲁郡已久入于元九韶葢述其祖贯未详实为何许人也是书分为九类一曰大衍以奇零求总数为九类之纲二曰天时以步气朔晷影及五星伏见三曰田域以推方圆羃积四曰测望以推髙深广逺五曰赋役以均租税力役六曰钱谷以权轻重出入七曰营建以度土功八曰军旅以定行阵九曰市易以治交易虽以九章为名而与古九章门目迥别葢古法设其术九韶则别其用耳宋代诸儒尚虚谈而薄实用数虽圣门六艺之一亦鄙之不言即有谈数学者亦不过推演河洛之奇偶于人事无闗故乐屡争而不决厯亦每变而愈舛岂非算术不明惟凭臆断之故欤数百年中惟沈括究心是事而自梦溪笔谈以外未有成书九韶当宋末造独崛起而明絶学其中如大衍类蓍卦发微欲以新术改周易揲蓍之法殊乖古义古厯防积题数既误且谓设问以明大衍之理初不计前后多少之厯过尤非实据天时类缀术推星本非方程法而术曰方程复于草中多设一数以合方程行列更为牵合所载皆平气平朔凡晷影长短五星迟疾皆设数加减不过得其大防较今之定气定朔用三角形推算者亦为未密然自秦汉以来成法相传未有言其立法之意者惟此书大衍术中所载立天元一法能举立法之意而言之其用虽仅一端而以零数推总数足以尽奇偶和较之变至为精妙苟得其意而用之凡诸法所不能得者皆随所用而无不通后元郭守敬用之于弧矢李冶用之于勾股方圆欧逻巴新法易其名曰借根方用之于九章八线其源实开自九韶亦可云有功于算术者矣至于田域测望赋役钱谷营建军旅市易七类皆扩充古法取事命题虽条目纷纭曲折往复不免瑕瑜互见而其精确者居多今即永乐大典所载于其误者正之疎者辨之颠倒者次序之各加案语于下庶得失不掩俾算家有所稽考焉乾隆四十九年十月恭校上
总纂官【臣】纪昀【臣】陆锡熊【臣】孙士毅
总　校　官
【臣】　陆　费　墀

[book_title]数学九章序
周教六艺数实成之学士大夫所从事尚矣其用本太虚生一而周流无穷大可以通神明顺性命小足以经世务类万物距容以浅近窥哉若昔推防以迎日定律而和气髀距濬川土圭度咎天地之大囿焉而不能外况其间总总者乎爰自河图洛书闿发幽秘八卦九畴错综精防极而至于大衍皇极之用而人事之变无不该鬼神之情莫能隐矣圣人神之言而遗其粗常人昧之由而莫之觉要其归则数与道非二本也汉去古未逺有张苍许商马延年耿夀昌郑张衡刘洪之伦或明天道而法传于后或计功防而效验于时后世学者自高鄙不之讲此学殆绝惟治厯畴人能为乘除而弗通于开方衍变若官府会事则府史一二絫之算家位置素所不识上之人亦委而听焉持算者惟若人则鄙之也宜矣呜呼乐有制氏仅记铿锵而谓与天地同和者止于是可乎今数术之书尚三十余家天象厯度谓之缀术太乙壬甲谓之三式皆曰内算言其秘也九章所载及周官九数击于方圆者为专术皆曰外算对内而言也其用相通不可岐二独大衍法不载九章未有能推之者厯家演法颇用之以为方程者误也且天下之事多矣古之人先事而计计定而行仰观俯察人谋鬼谋无所不用其谨是以不愆于成载籍章章可覆也后世兴事造始鲜能考度乎天纪人事之殽缺矣可不求其故哉九韶愚陋不闲于艺然早嵗侍亲中都因得访习于太史又尝从隐君子受数学时际兵难歴嵗遥塞不自意全于矢石之间更险离忧荏苒十禩心槁气落信知失物莫不有数也乃肆意其间旁诹方能探索杳粗若有得焉所谓通神明顺性命固肤末于见若其小者窃尝设为问荅以拟于用积多而惜其弃因取八十一题厘为九类立术具草间以图发之恐或可备博学多识君子之余观曲艺可遂也愿进之于道傥曰艺成而下是惟畴人府史流也乌足尽天下之用亦无瞢焉时淳祐七年九月鲁郡秦九韶叙且系之曰昆仑旁薄道本虚一圣有大衍防寓于易竒余取防郡数皆捐衍而防之探隐之原数术之传以实为体其书九章惟兹弗纪厯家虽用用而不知小试经世姑推所为述大衍第一　七精回穹人事之纪追缀而求宵星画晷厯乆则踈惟智能革不寻天道模袭何益三农务穯厥施自天以滋以生雨膏雪零司牧闵马尺寸验之积以噐移忧喜皆非述天时第二　魁隗粒民甄度四海苍姫井之仁政攸在代逺庶蕃恳菑日广步度庀赋版图是掌方圆异状袤窳殊形专术精防熟防厥真差之毫厘谬乃千里公私共盖谨其籍述田域第三莫高匪山莫濬匪川神禹奠之积矩攸传智创巧述重差夕桀求之既详揆之冈越崇深广逺度则靡容形格势禁防垒仇墉欲知其数先望以表因差施术坐悉防述测望第四　邦国之赋以待百事畦田经入取之有度未免力役先商厥功以衰以率逸乃同汉犹近古租税以算调均钱谷何菑之扞惟仁隐民犹已溺饥赋役不均寜得勿思述赋役第五　物等敛赋式时府庾粒粟寸丝褐夫红女商征边籴后世多端立縁为欺上下俱殚我闻理财如智治水澄原濬流惟其深矣彼昧弗察急烦刑去理益逺吁嗟不仁述钱谷第六　斯城斯池乃栋乃宇宅坐寄命以保以聚鸠功雉制竹个本章匪防匪度财蠧力伤围蔡而裁如子西素匠计露台俾汉文惧惟武图功惟俭昭德有国有家兹焉取则述营建第七　天生五材兵去未可不教而战维上之过堂堂之阵鹅鹳为行营应规矩其将莫当师中之吉惟智仁勇夜算军书先计攸重我闻在昔轻则寡谋殄民以幸亦孔之忧述军旅第八　日中而市万民所资贾贸墆鬻利析铢锱蹛财役贫封君低首豕末兼并非国之厚述市易第九
钦定四库全书

[book_title]数学九章卷一上
宋　秦九韶　撰大衍
按大衍术以各分数之竒零求各分数之总数大而天行小而物数皆可御之其法有求元求定求术求竒求乘求用之目大约以数之竒偶为根而以诸数相度之尽不尽为用有求彼此不能度尽之诸数者元数定数是也有求诸数皆能度尽之一数者衍母数是也有求诸数皆能度尽而一数不能度尽之数者各衍数是也其不尽之数即竒数也有求二数相度余一之数者乘数是也有求二数相度余一而诸数又能度尽之数者用数是也求元数定数初与约分法相似终变二数务使其等数为一盖以一为等数始能度尽二数是他数俱不能度尽二数而二数相度益不能尽也以定数竒数求乘数之法名曰大衍求一中有立天元一于左上之语下载立天元一算式按立天元一法见于元郭守敬之厯源李冶之测圆海镜及四海之借根方者皆虚设所求之数为一与所有实数反覆推求归于少广诸乘方得其积数与边数或正负亷隅数而止次用除法或开方法得所求数此数命定数为一与竒数反覆商较至余一实数而止其竒数所积即为乘数盖其用不同而法则无二也然其极和较之用穷竒偶之情则有为元法西法所未及者但原本法解烦杂图式譌舛今详加改定并释其义俾学者易见焉
大衍数术
大衍总数术曰置诸问数【类名有四】一曰元数【谓尾位见单零者本门揲蓍酒息斛粜砌甎失米之类是也】二曰牧数【谓尾位见分厘者假令冬至三百六十五日二十五刻欲与甲子六十日为一会而求积日之类】三曰通数【谓诸数各有分子母者本门问一会积年是也】四曰复数【谓尾位见十或百及千以上者本门筑隄并急足之类是也】
按此言问题有是四类
元数者先以两连环求等约竒弗约偶【或约得五而彼有十乃约偶而弗约竒】或元数俱偶约毕可存一位见偶或皆约而犹有类数存姑置之俟与其他约徧而后乃与姑置者求等约之或诸数皆不可尽类则以诸元数命曰复【按复应作定】数以复【按同上】数格入之
按此以元数求定数法也连环求等者于诸数中逐次取二数相度得一数可以度尽者为等数为法只约一数约竒弗约偶专为等数为偶者言之若等数为竒者则约偶弗约竒而等数为五与十者又有或约竒或约偶者矣皆约而犹有类俟约徧求等约之者逐条两两取约毕犹有二数可约者求得等数为续等【见后】续等约一数必复乘一数盖等数为二数之较【或二数展转之较】可约续等乃已约之较不可约不可约而两数又不可使有等故约一数乘一数犹之不约也术内未详
收数者乃命尾位分厘作单零以进所问之数定位讫用元数格入之或如意立数为母收进分厘以从所问用通数格入之
按收数者单位下有竒零之数也进位者以竒零之末位为单位也若立分母通之反不如用原数为简
通数者置问数通分内子互乘之皆曰通数求总等不约一位约众位得各原法数用元数格入之或诸母数繁就分从省通之者皆不用元各母仍求总等存一位约众位亦各得原法数亦用元法数格入之
按通数与收数相似但单数有分母竒零为分子耳通分纳子即进尾数为单位之义因加互乘一次故加总等一约然后为元数也
又按求总等不拘通数复数但题中有三数可以一等数度尽者即可用总等法存一数约众数然后为元数凡度之后等数仍可约者此数必当存之
复数者问数尾位见十以上者以诸数求总等存一位约众位始得元数两两连环求等约竒弗约偶复乘偶或约偶或约竒复乘竒【按此四语有误应作约竒弗约偶复乘偶或约偶弗约竒弗乘竒然皆续等下用之此处可省】或彼此可约而犹有类数存者又相减以求续等以续等约彼则必复乘此乃得定数所有元数收数通数三格皆有复乘求定之理悉可入之按复数者诸问数皆至十或百或千而止也右各叚皆云以某格入之此又云三格悉可入之大约古算必有其程式也
求定数勿使两位见偶勿使见一太多见一多则借用繁不欲借则任得一
按勿使两位见偶者盖众数连乘中有两偶数则所得总数以一偶数除之必仍得偶数不能求余一之乘数也勿使见一太多见一多则借数繁者盖见一多因数本如此且见一即不必推乃云勿使太多又云借数皆涂人之耳目也故曰不欲借则任得一
以定相乘为衍母以各定约衍母得各衍数【或列各定数于右行各立天元一为子于左行以母互乘子亦得衍数】诸衍数各满定母去之不满曰竒以竒与定用大衍求一入之以求乘率【或竒得一即为乘率】按诸定数连乘为衍母即为诸定数皆能度尽之数亦为总数最大之限凡总数在限内者各定数之差皆不等若过限外则各定数之差有与限内相等者其两总数之差必为衍母之倍数各衍母者即诸数度尽一数度不尽之数也竒数者定数度衍数不尽之数也定数原为彼此不能度尽之数衍数为他定数连乘之数以此一定数度之必不能尽也
大衍求一数云置竒右上定居右下立天元一于左上先以右上除右下所得商数与左上一相生入左下然后乃以右行上下以少除多递互除之所得商数随即递互累乘归左行上下须使右上末后竒一而止乃验左上所得以为乘率或竒数已见单一者便为乘率【按此二语重上】
按此以定数竒数求乘数也其法必使以定数度竒数仅余一数而竒数之倍数即乘数也置竒右上定右下者初次以定为实竒为法也立天元一于左上者以一为竒之倍数也得商数与左上相生入左下者以竒商定得商数即竒之倍数以乘天元一而书于下也随以竒数与商数相乘以减定数为余实次以竒为实减余为法置前左下于左上以法约实得商乘左上又并前之左上为左下随以法乘商减实又为余实次又以前余为实次余为法置前左下于左上得商数乘左上又倂前左上为左下随以法乘商减实如此展转相求合两次为一算至余实一乃视左下天元数即乘数也若未至两次余实一者仍以一为法上余数为实实二则商一实三则商二如上求之复得余一其天元数方为乘数原文递互乘除之语未详
置各乘率对乘衍数得泛用并泛课衍母多一者为正用或泛多衍母倍数者验元数竒偶同者损其半倍【或三处同类以三约衍母于三处损之】同衍母者为无用当验元数同类者而正用至多处借之以元数两位求等以等约衍母为借数以借数损有以益其无为正用或数处无者如意立数为母约衍母所得以如意子乘之均借补之或欲从省勿借任之为空可也
按此求各用数法也其各乘率乘各衍数得用数者即一数余一诸数度尽之数也其云并泛用过衍母倍数验元数同类损之此语似有误当云验问数同偶而用数相并过衍母者损之盖取用皆问数非元数也凡偶数减偶仍余偶减竒仍余竒其数有定竒数减竒则余偶又或余竒减偶则余竒又或余偶其数无定故惟偶数可验也定数一者即无用数必虚为借数未免徒滋烦扰
然后以其余各乘正用为各总并总满衍母去之不满为所求率数
按此既得各用数以题中所问之竒零求总数也以各余数乗各用数者盖用数为诸数度尽一数余一之数以几数乘之必为诸数度尽一数余几数之数也并各条而以各数度之必各数仍余几数也余数悉合则总数必合矣然衍母为诸数度尽之数累加一衍母众余数皆不变故满衍母去之得在衍母内者其数最小为第一数若大于此数者递加一衍母数无不合者
按右大衍本法也原书入于蓍防发防题问荅之后殊失其序今修冠于卷首
蓍卦发防
问易曰大衍之数五十其用四十有九又曰分而为二以象两卦一以象三揲之以四以象四时三变而成爻十有八变而成卦欲知所衍之术及其数各几何按揲蓍之法载于易传啓言之甚明算术以竒偶相生取名大衍可也竟欲以此易古法则过矣
荅曰衍母十二衍法三
一元衍数二十四二元衍数一十二三元衍数八四元衍数六　已上四位衍数计五十一楪用数一十二二楪用数二十四三楪用数四四揲用数九　已上四位用数四十九
按此附会五十四十九之数与本衍已牵强不合观后可知
水　　火　　木　　金
【始此四数以揲】
隂阳象数图
老阳　少隂　　少阳　老隂【终此四者为爻】
按此条与数无取义可删
本题术曰置诸元数两两连环求等约竒弗约偶徧约毕乃变元数皆曰定母列右行各立天元一为子列左行以诸定母互乘左行之子各得名曰衍数次以各定母满去衍数各余名曰竒数以竒数与定母用大衍术求一【大衍求一术云以竒于右上定母于右下立天元一于左上先以右行上下两位以少除多所得商数乃递互乘归左行使右上得一而止左上为乘率】得各乘率以乘衍数各得用数验次所揲余几何以其余数乘诸用数并之名曰总数满衍母去之不满为所求数以为实易以三才为衍法以法除实所得为象数如实有余或一或二皆命作一同为象数其象数得一为老阳得二为少隂得三为少阳得四为老隂得老阳画重爻得少隂画拆爻得少阳画单爻得老隂画交爻凡六画乃成卦
按此即前大衍法末以三归取爻象亦属附会
草曰一二三四列右行立天元一列左行
元数右行
天元左行
以右行一二三四互乘左行异子一弗乘对位本子各得衍数
元数右行
上　副　次　　下
衍数左行　并之得五十
乃并左行衍数四位共计五十故易曰大衍之数五十算理不可以此五十为用葢分之为二则左右手之数竒偶不同见隂阳之伏数必须复求用数先名此曰衍数以为限率遂乃复以一二三四之元数求等数约定按前术以两两相连环求等约之先以一与二求等一与三求等一与四求等皆得一各约竒弗约偶数不变次以二与三求等亦得一约竒弗约偶数亦不变及以二与四求等乃得二此二只约副数二变为一而弗约四次以三与四求等亦得一约竒亦不变所得一一三四各为定数母列右行仍各立天元一为子列左行
定母右行
天行左行
以右行定母一一三四互乘左行各子一惟不对乘本子毕左上得一十二左副得一十二左次得四次下得三皆曰衍数
定母右行　以右定母满去左
衍数左行　衍衍余各为竒数
次以各母去衍数其一母去衍一十二竒一其副母一亦去副子一十二亦各竒一其次母三去次衍四亦竒一其下母四欲去下子三则不满便以三为左下竒数
定母右行
竒数左行
凡竒数得一者便为乘率今左下衍是三乃与本母四用大衍求一术入之列衍竒三于右上定母于右下立天元一于左上空其左下
【衍　定　商竒　母】
【天元】
先以右上少数三除右下多数四得一为商以商一乘左上天元一只得一归左下其右下余一
【商　衍　定母竒　余】○
【天　归元　数】
次以右下少数一除右上多数三须使右上必竒一算乃止遂于右行最上商二以除右衍必竒一乃以上商命右下定余一除之右衍余一
【商　衍竒　定母余　　余】
【天　　归元　　数】
次以商二与左下归数相乘得二加入左上天元一内共得三
今验右上衍余得一当止乃以左上三为乘率与前三者乘率各一与衍定图衍数对列之通计三行
定母
衍数
乘率
以乘率对乘左行毕左上得一十二左副得一十二左次得四左下得九皆曰泛用数
定母　　衍母
泛用
次以右行一二三四相乘得一十二名曰衍母复推元用等数二约副母二为一今乃复归之为二遂用衍母一十二益于左副一十二内共为二十四
元数
定用
今验用数图右行之一二三四即是所揲之数左行一十二并二十四及四与九并之得四十九名曰用数用为蓍草数故易曰其用四十有九是也
假今用蓍四十九信手分之为二则左手竒右手必偶左手偶右手必竒欲使蓍数近大衍五十非四十九或五十一不可二数信手分之必有一竒一偶故所以用四十九取七七之数始有左副二十四内益十二就其三十七泛为用数但三十七无意义兼蓍少太露是以用四十有九凡揲蓍求一爻之数欲得一二三四岀于无余必令揲者不得知故以四十九蓍分之为二只用左手之数假令左手分得三十三自一一楪之必竒一故不繁楪乃径挂一故易曰分而为二以象两挂一以象三次后又令筮人以二二揲之其三十三亦竒一故归奇于防又令之以三三揲之其三十三必奇三故归奇于防又令之以四四揲之又奇一亦归奇于防与前挂一并三度揲通有四防乃得一一三一其挂一者乘用数图左上用数一十二其二揲防一者乘左副用数二十四其三揲防三者乘左次用数四得一十二其四揲一者乘左下用数九
用数
左行三防谓之三变
挂一得一十二防一得二十四防三得一十二又防一得九并为总数
并此四总得五十七不问所握几何乃满衍母一十二去之得不满者九【或使知其所握五十七亦满衍母去之亦只得九数】以为实用三才衍法约之得三乃画少阳单爻【或不满得八得七为实皆命为三】他皆仿此　术意谓揲二楪三楪四者凡三度复以三十三从头数揲之故曰三变而成爻既卦有六爻必有十八变故曰十有八变而成卦
按此条强援蓍卦牵附衍数致本法反晦今以本法列于前则其弊自见矣
古厯会积
问古厯冬至以三百六十五日四分日之一朔防以二十九日九百四十分日之四百九十九甲子以六十日各为一周假令至淳祐丙午十一月丙辰朔初五日庚申冬至初九日甲子欲求古厯气朔甲子一会积年积月积日及厯过未至年数各几何
按此题嵗实朔防皆古法用数淳祐丙午嵗合朔冬至干支乃宋开禧法所步题数已不相即推算无误亦未合况不能无误耶
荅曰一会积一万八千二百四十年二十二万五千六百月六百六十六万二千一百六十日　厯过九千一百六十三年未至九千七十七年按荅数皆不合
术曰同前置问数【有分者通之互乘之得通数】求总等不约一位约众位各得元法连环求等约竒弗约偶各得定母【本题欲求一会不复乘偶】以定相乘为衍母定除母得衍数满定去衍得竒以大衍入之得乘率以乘衍数得泛用数并诸泛以课衍母如泛内多倍数者损之乃验元数竒偶同类处各损半倍【或三位同类者三约衍母损泛】各得正用然后推气朔不及或所遇甲子日数乘正用加减之为总满衍去之余为所求厯过率实如纪元法而一为厯过以气元法除衍母得一会积年以气周日刻乘一会年得一会积日以朔元法除衍母得一会积月数
按如纪元法而一以气元法除衍母二语皆误故得数不合皆当以气分为法葢气分即嵗实分也
右本题问气朔甲子相距日数系开禧厯推倒或甲子日在气朔之间及非十一月前后者其总数必满母赘去之所得厯过年数尾位虽伦首位必异今设问以明大衍之理初不计其前多后少之厯过
按此数语葢因得数不合而自解之然算家终以得数为凖得数不合则无以取信于人矣
草曰置问数冬至三百六十五日四分日之一朔
防二十九日九百四十分日之四百九十九甲子六十日各通分内子互乘之列三等位具图如后
冬至得一千四百六十一朔实得二万七千七百五十九甲子无母只是六十列三行互乘之具图如后
【气通　母　　　　　　　　总等不约纪分】
以三行互乘右得一百三十七万三千三百四十为气分中得一十一万一千三十六为朔分左得二十二万五千六百为纪分先求总等得一十二【按十二乃朔分纪分所求等数亦可为气分等数故为总等】乃存纪分一位不约只以等一十二约气分得一十一万四千四百四十五又约朔分得九千二百五十三皆为元法乃以连环求等次以纪元二十二万五千六百与朔元九千二百五十三求等得一不约又以纪元与气元一十一万四千四百四十五求等得二百三十五只约气元得四百八十七次以气元四百八十七与朔元九千二百五十三求等得四百八十七只约朔元九千二百五十三得一十九约偏毕得四百八十七为气定得一十九为气定得二十二万五千六百为纪定以三定相乘得二十亿八千七百四十七万六千八百为衍母具图如后
各以定数约衍母各得衍数气得四百二十八万六千四百朔得一亿九百八十六万七千二百纪得九千二百五十三寄左行各满定数去之各得竒数
气竒得三百一十三朔竒得四纪竒得九千二百五十三各与定数用大衍求一各得乘数列右行对寄左行衍数具图如后
各以大数入之气乘率得四百七十三朔乘率得五纪乘率得一十七万二千七百一十七对左行衍数以右行乘率对乘左行衍数气泛得二十亿二千七百四十六万七千二百朔泛得五亿四千九百三十三万六千纪泛得一十五亿九千八百一十五万四百一十具图如后
右列用数并之共得四十一亿七千四百九十五万三千六百一为泛用数与衍母二十亿八千七百四十七万六千八百验之在衍母以上就以衍母除泛得二乃知泛内多一倍母数当于各用内损去所多一倍按术验法元图内诸元数奇偶同类者各损其半今验法元图气元尾数是五纪元尾数是六百为俱五同类乃以术母二十亿八千七百四十七万六千八百折半得一十亿四千三百七十三万八千四百以损泛用图内气泛纪泛毕其朔泛不损各得气朔纪正用数其气正用得九亿八千三百七十二万八千八百朔正用五亿四千九百三十三万六千纪正用五亿五千四百四十一万二千一列为正用图在前
既得正用数次验问题十一月朔日丙辰冬至初五日庚申初九日甲子乃以初一减初九甲子余八日为朔不及次以初五亦减初九甲子余四日为气不及以二不及各乘正用得数具图如后
先以气不及甲子四日以乘气正用数九亿八千三百七十二万八千八百得三十九亿三千四百九十一万五千二百为气总次以朔不及甲子八日数以乘其朔正用数五亿五千九百三十三万六千得四十三亿九千四百六十八万八千为朔总并之得八十三亿二千九百六十万三千二百为总数满母二十亿八千七百四十七万六千八百去之不满二十亿六千七百一十七万二千八百为所求率实具图如后
按求积嵗应以甲子距冬至前之日分乘纪用数为纪总以合朔距冬至前之日分乘朔用数为朔总并纪总朔总满衍母去之以嵗实分除之即已过积年草内以冬至距甲子前之日分乘气用数合朔距甲子前之日分乘朔用数并之乃求纪周法非求嵗周法也故不合
置所得率实二十亿六千七百一十七万二千八百如法元图纪元法二十二万五千六百而一得九千一百六十三年为厯过年数次置衍母二十亿八千七百四十七万六千八百为实如法元图气元一十一万四千四百四十五为法而一得一万八千二百四十年为气朔甲子一会积年内减厯过九千一百六十三年余九千七十七年为未至年数次以冬至周日三百六十五日二十五刻乘积一会年一万八千二百四十得六百六十六万二千一百六十日为一会积日又以术母为实如法元图朔元法九千二百五十二而一得二十二万五千六百月为一会积月合问
按此纪元即纪分以纪分除率实乃纪周数非已过年数也求一会积年当以气分为法以气元为法亦误此二数既误余数无是者矣然题已不合既法合数亦不能合也今改设一题于后以明其法焉
设古法嵗实三百六十五日四分日之一朔防二十九日九百四十分日之四百九十九甲子六十日假令十一月平朔辛巳日四百七十分日之一百一十三冬至癸夘日子正初刻问距前后甲子日子正初刻合朔冬至之年数各几何
荅曰距前八百七十六年距后六百四十四年
法按前法求至正用乃以冬至癸夘距甲子后三十九日为纪余以日法【即气分母朔分母相乘之数】三千七百六十分通之得十四万六千六百四十为纪余分以乘纪正用得纪总八十一兆二千九百八十九亿七千五百八十二万六千六百四十次以平朔辛巳距甲子十七日又四百七十分之一百一十三与冬至距甲子三十九日相减得二十一日又四百七十分日之三百五十七以日法三千七百六十通之得八万一千八百一十六为朔余分以乘朔正用得朔总四十四兆九千四百四十四亿七千四百一十七万六千并二总数满衍母去之得率实十二亿零三百零四万五千八百四十为实以嵗实一百三十七万三千三百四十为法除之得八百七十六年为距前气朔甲子会积之年数又以衍母为实以嵗实分为法除之得一千五百二十年为前会积距后会积之年数减去距前会积之年数余六百四十四年为距后会积之年数既得积年若欲还原求题中干支时刻则以前会之积年与嵗实相乘得三十一万九千九百五十九为积日满纪法六十去之余三十九日自初日起甲子得冬至为癸夘日子正初刻又置积日以朔防日分九百四十通之为实以朔防通分纳子为法除之得一万零八百三十四为积朔余二万零四百五十四又为实以朔防日分九百四十为法除之得二十一日又九百四十分之七百一十四约之为四百七十分日之三百五十七为距冬至前日数与甲子距冬至前三十九日相减得一十七日又四百七十分日之一百一十三为距甲子后日数自初日起甲子得辛巳为平朔干支悉与题合
推库额钱
问有外邑七库日纳息足钱适等递年成贯整纳近縁见钱稀少听各库照当处市陌凖解旧会其甲库有零钱一十文丁庚二库各零四文戊库零六文余库无零钱甲库所在市陌一十二文递减一文至庚库而止欲求诸库日息原纳足钱展省及今纳旧会并大小月分各几何
按题意系七邑日纳共钱同数以各邑市陌数计之或适足或有余多寡不同甲陌十二则余十乙陌十一丙陌十则无余丁陌九则余四戊陌八则余六己陌七则无余庚陌六则余四以求共钱同数此本术也又问展省旧会按草中展省乃官省陌以七十七为一百所展日息共钱之数旧会乃以各陌数为一百所升日息共钱之数二者在本术中已赘且不明言展省旧会用数求法皆故为溟涬也
荅曰诸库纳日息足钱二十贯九百五十文
展省三十五贯文
甲库日息旧会二百二十四贯五百一十文【按应作五百文又六分文之五】大月旧会六千七百三十七贯五百文【按少二十五文】小月旧会六千五百一十二贯九百二文【按应作六千五百一十贯五百又六分文之一】乙库日息旧会二百四十五贯文　大月旧会七千三百五十贯文　小月旧会七千五百贯文【按应作七千一百五贯】
丙库日息旧会二百六十九贯五百文　大月旧会八千八十五贯文　小月旧会七千八百一十五贯五百文
丁库日息旧会二百九十九贯四百四文【按应作四百四十四文又九分文之四】大月旧会八千九百八十三贯三百三文【按少三十文又三分文之一】　小月旧会八千六百八十三贯八百八文【按少八十文又九分文之八】戊库日息旧会三百三十六贯八百六文【按应作七十五文】　大月旧会一万一百六贯二百四文【按应作二百五十文】　小月旧会九千七百六十九贯三百六文【按应作七十五文】
己库日息旧会三百八十五贯文　大月旧会一万一千五百五十贯文　小月旧会一万一千一百六十贯文【按少五贯】
庚库日息旧会四百四十九贯一百四文【按应作一百六十六文又分三文之二】　大月旧会一万三千四百七十五贯文　小月旧会一万三千二十四贯八百二文【按应作二万三千二十五贯八百三十三文又三分文之一】
术曰以大衍求之置甲库市陌以库减库减之各得诸库原陌连环求等约竒弗约偶【按此特为等数为偶者言之若等数为竒者则约偶弗约竒】得定母诸定相乘为衍母以定约衍母得衍数衍数同衍母者去之为无【无者借之同类】其各满定母去余为竒数以竒定用大衍求乘率乘衍数为用数无者则以原数同类者求等约衍母得数为借数次置有零文库零钱数乘本用数并为总数满衍母去之不满为诸库日息足钱各大小月日数乘之各为实各以原陌约为旧会
草曰置甲库市陌一十二递减一得一十一为乙库陌十一为丙库陌九为丁库陌八为戊库陌七为己库陌六为庚库陌得诸库原陌
甲　乙　丙　丁　戊　己　庚
以连环求等约讫甲得一乙得十一丙得五丁得九戊得八己得七庚得一各为定母立各一为子按此法之要在于求定而术中独畧之今详其式于后
法列七库陌数于前先以甲与
乙相约无等数与丙数相约得
等数二【偶】约丙十得五【竒】与丁
数相约得等数三【奇】约甲十二
得四【偶】与戊数相约得等数四
【偶】约甲四得一【奇】甲数既为一
不能约即为与诸数徧约毕
次以乙与下五数相约俱无等
次以丙与下四数相约亦俱无
等次以丁与戊己二数相约俱
无等与庚数相约得等数三【奇】约庚六得二【偶】次以戊与己相
约无等与庚相约得等数二【偶】约庚二得一【奇】庚既为一己亦
不能与之相约乃为连环求等毕得定数为甲一乙十一丙五丁九戊八己七庚一也后凡求定数仿此
【定母】
先以诸定相乘得二万七千七百二十为衍母次以诸定互乘诸子甲得二万七千七百二十乙得二千五百二十丙得五千五百四十四丁得三千八百戊得三千四百六十五己得三千九百六十庚得二万七千七百二十各为衍数
定母右行
次验诸衍数有同衍母者皆去之为无衍数次各满定母去各本衍各得奇数甲无乙得一丙得四丁得二戊得一己得五庚无各为竒数
次验有奇数者得一便以一为乘率或得二数以上者各以奇数于右上定母于右下立天元一于左上用大衍求一之数入之验乘除至右上余一而止皆以左上所得为乘率甲无乙得一丙得四丁得五戊得一己得四庚无各为乘率列右行以对寄左衍数
以两行对乘之为用数甲无乙得二千五百二十丙得二万二千一百七十六丁得一万五千四百戊得三千四百六十五巳得一万一千八百八十庚无
次推无用数者惟甲庚合于同类处借之其同类谓原陌列而视之
今视甲一十二庚六皆与丙一十戊八俱偶为同类其戊用数三千四百六十五其数少不可借惟丙一十之用数系二万二千一百七十六为最多当以借之乃以甲一十二丙一十庚六求等得二以等数二约衍母二万七千七百二十得一万三千八百六十为借数乃减丙用二万二千一百七十六余八千三百一十六为丙用数乃以所借岀之数一万三千八百六十为实以原等二为法除之得六千九百三十为甲用数以甲用数减借岀数余亦得六千九百三十为庚用数今不欲甲庚之借数同乃验得岀数一万三千八百六十可用几约如意乃立三取三分之一得四千六百二十为甲用取三分之二得九千二百四十为庚用列右行
一　　○　○　　　　　　○
【零数】　左行乃视诸库有无零钱数验得乙丙己三库无先去其用数乃以甲子戊庚四库零钱列左行对乘本用甲得四万六千二百丁得六万一千六百戊得二万七百九十庚得三万六千九百六十合为总
并此四总得一十六万五千五百五十满衍母二万七千七百二十去之不满二万六千九百五十为所求率以贯约为二十六贯九千五十文为诸库日息等数以官省七十七陌展得三十五贯文【按官省陌以七十七为一百故二十六贯余展为三十五贯】各以其库陌纽计【按库陌纽计即以各陌数为一百】各得旧会零钱各以三十日乘为大月息以日息减大月息余为小月息合问
分粜推原
问有上农三人力田所收之米系用足斗均分各徃他处岀粜甲粜本郡官塲余三斗二升乙粜与吉安乡民余七斗丙粜与平江戸余三斗欲知共米及三人所分各粜石几何
荅曰共米七百三十八石　三人各分米二百四
十六石
甲粜官斛二百九十六石　乙粜安吉斛二百二十三石　丙粜平江斛一百八十二石
术曰以大衍求之置官塲斛率安吉乡斛率平江市斛率【官私共知者官斛八斗三升安吉乡斛一斗一升平江市斛一石三斗五升】为原数求总等不约一位约众位连环求等约竒不约偶或犹有类数存者有求等约彼为复乘此各等定母相乘为衍母互乘为衍数满定去之得竒大衍求一得乘率乘衍数为用数以各余米乘用并之为总满衍母去之不满为所分以原人数乘之为共米
草曰置文思院官斛八十三升吉安州乡一百一十升平江府市斛一百三十升各为其斛原率
先以三率求总等得一不约【按此题只一数见十不必用复数求总等】次以连环求等其安吉率一百一十与平江率一百三十五求等得五以约平江率得二十七【按五为中数或约偶或约奇皆可但不约可以约者】余皆求等得一不约各得原数
以定相乘得二十四万六千五百一十为衍母各以原率约之得二千九百七十为官斛衍数得二千二百四十一为安吉州衍数得九千一百三十为平江斛衍数
官斛　　安吉　　平江　　　　　衍母
次以定母满法去衍数得不满六十五为官斛奇不满四十一为安吉奇不满四为平江奇数
定母奇数各以大衍入之求得乘数得二十三为官斛乘率得五十一为安吉乘率得七为平江乘率
以乘率各乘寄左行衍数得六万八千三百一十为官斛用数得一十一万四千二百九十一为安吉用数得六万三千九百一十为平江用数
次以甲余三十二升乘官斛用数六万八千三百一十得二百一十八万五千九百二十升于上次以乙余七十升乘安吉用数一十一万四千二百九十一得八百万三百七十升于中次以丙余三十升乘平江用数六万三千九百一十得一百一十九万七千三百于下各为总并之得一千二百一十万三千五百九十升为总数满衍母二十四万六千五百一十升去之不满二万四千六百升为所求率展为二百四十六石为三人各分米以兄弟三人因之得七百三十八石为共米置分米二百四十六石各以官斛八斗三升安吉斛一石一斗平江斛一石三斗五升约之甲得二百九十六石余三斗二升乙得二百二十三石余七斗丙得一百八十二石余三斗各为粜过及余米合问
数学九章卷一上
<子部,天文算法类,算书之属,数学九章>
钦定四库全书

[book_title]数学九章卷一下
宋　秦九韶　撰大衍
积足寻原
问欲砌基一叚见管大小方甎六门城甎四色令匠取便或平或侧只用一色甎砌湏要适足匠以甎量地计料称用大方料广多六寸深少六寸【按即多七寸】用小方广多二寸深少三寸【按即多八寸】用城甎长广多三寸深少一寸【按即多一尺一寸】以阔深少一寸【按即多五寸】广多三寸以厚广多五分深多一寸用六门甎长广三寸深多一寸以阔广多三寸深多一寸用厚广多一寸深多一寸皆不匼匝未免修破甎料禆补其四色甎大方方一尺三寸小方方一尺一寸城甎长一尺二寸阔六寸厚二寸五分六门长一尺阔五寸厚二寸欲知基深广防何
按题意谓以一尺三寸量基之广未余六寸以一尺一寸量之余二寸以一尺二寸量之余三寸以六寸量之亦余三寸以二寸五分量之余五分以一尺量之余三寸以五寸量之亦余三寸以二寸量之余一寸以求广也其求深之意亦同
答曰深三丈七尺一寸　广一丈二尺三寸
术曰以大衍求之置甎方长阔厚为元数以小者为单起一先求总等存一位约众位【列为多者随意立号】乃为元数连环求等约为定母以定相乗为衍母各定约衍母得衍数满定去之得竒竒定大衍得乗率以乗衍数得用数次置广深多少数多者乘用少者减元数余以乘用并为总满衍母去之不满得广深
草曰置四甎方长阔厚系八数城甎厚有分为小者皆通之为单大方得一百三十分小方得一百一十分城甎长得一百二十分阔得六十分厚得二十五分六门甎长得一百分阔得五十分厚得二十分
锥行置之右列位稍多甎名相互今假八音为号位先以最少者自木二十与革二十五求等得五乃反约木二十为四木四与土五十求等得二以约五十为二十五木四与匏六十求等得四约六十为一十五木四与竹一百求等得四约一百为二十五木四与丝一百一十求等得二约一百一十为五十五木四与石一百二十求等得四反约木四为一以木一与金求等得一不约为木与诸数求等约讫为一变得数具图如后
次以革二十五与土五十【按前巳约土为二十五次变不应复用原数然于得数却无碍】求等得二十五约五十为二以革二十五与匏一十五求等得五约匏一十五为三以革二十五与竹二十五求等得二十五约竹二十五为一又以革二十五与丝五十五求等得五约丝五十五得一十一以革二十五与石一百二十求等得五约一百二十为二十四以革二十五与金一百三十求等得五约金一百三十得二十六革与诸数徧约讫为二变具图如后
乃以土二与匏三竹一丝一十一求等皆得一不约以土二与石二十四求等得二及约土二得一又不土一与金二十六求等得一不约土与诸数约讫为三变具图如后
乃以匏三与竹一丝十十一求等皆得一又以匏三与石二十四求等得三约石二十四为八又匏三与金二十六求等得一不约匏与诸数约讫以为四变次以竹一与丝一十一与石二十四【按巳约为八云二十四误】与金二十六求等皆得一竹与诸数约讫为五变次以丝一十一与石二十四【按误同上】与金二十六求等皆得
一不约为六变复以石二
【十】四【按误同上】与金二十六求等得二约金二十六为一十三至此七变连环求等约俱毕得数为定母列图如后
右定母列右行以相乗得八万五千八百为衍母以各定母约衍母各得衍数其竹木土定得一者为无
金定一十三得衍数六千六百石定八得衍数一万七百二十五丝定一十一得衍数七千八百竹定一无衍匏定三得衍数二万八千六百土定一无衍数革定五五得衍数三千四百三十二木定一无衍数各满定母去之得竒数
金得竒九石得竒四丝得竒一匏得竒一草得竒七其丝匏得竒数一者便以一为乗率其金石革三处竒数皆与本定母用大衍求一入之各得乘率列右行
金得三石得五丝得一革得一革得一十八各为乘率寄左行衍数各得为用数
凡诸用数同类者类必多可互借以补无者先验革元数二十五与木元数二十为同类求等得五以等五约衍母八万五千八百得一万七千一百六十乃于革用数内减出以补木位为木用余四万四千六百一十六为革用次验竹元数一百与土五十为同类以求等得五十以等五十约衍母八万五千八百得一千七百一十六亦于革用内各借与竹土为用数革止余四万一千一百八十四为用得诸定用数
按无用数则此条可省借数转生烦扰非法也其所以可用借补者盖以同类之元数其较余之竒偶必同故一数可分用也然惟元数同偶者为然同竒则有不可用者此题可用因题中余数未过小元数
也
右行定用始列锥行假号求得今照甎色迁次列之
旣照甎次序列用数于右行乃验问题所谓大方甎砌广多六寸小方多二寸城甎长多三寸城甎阔多三寸厚多五分六门长多三寸阔多三寸厚多一寸对本用列左行各对乘之具图如后
两行乗毕金得一百一十八万八千丝得一十五万六千石得一百六十万八千七百五十匏得八十五万八千革得二十万五千九百二十竹得五万一十四百八十土亦得五万一千四百八十木得一十七万一千六百乃并前八位数共得四百二十九万一千二百三十分为总满衍母八万五千八百去之不满一千二百三十分约之为一丈二尺三寸为基元广数　乃求其深验问题大方砌少六寸小方砌少三寸城甎长砌少一寸阔砌少一寸厚砌多一寸六门长砌多一寸六门阔砌多一寸六门厚砌多一寸列为中行次置诸甎元数列为左行课减之具图如后
今以中行多者存之少者用减左行存者左行元数去之所减者左行余数存之金得七十丝得八十石得一百一十匏得五十革得一十竹一十土一十本一十具图如后
列为左行以对右行定用数具图如后
以左行多余数对乘右行用数金得一百三十八万六千丝得六十二万四千石得五百八十九万八千七百五十匏得一百四十三万革得四十一万一千八百四十竹得一万七千一百六十土得一万七千一百六十木得一十七万一千六百具图如后
并八位得九百九十五万六千五百一十分为总满衍母八万五千八百去之不满三千七百一十分展为三丈七尺一寸为基地深
推计土功
问筑堤起四县夫分给里歩皆同齐阔二丈里法三百六十歩歩法五尺八寸人夫以物力差定甲县物力一十三万八千六百贯乙县物力一十四万六千三百贯丙县物力一十九万二千五百贯丁县物力一十八万四千八百贯每力七百七十贯科一名春程人功平方六十尺先到县先给今甲乙二县俱毕丙县余五十一丈丁县余一十八丈不及一日全功欲知堤长及四县夫所筑各防何
按题意以四县修堤总长相同毎日所修之长不同以各每日所修之长计总长或适足或有余以求总长也但不正言其数而设堤阔数各县物力数一夫力数一夫平方数以取每日所修堤长数故令人不能骤觧
答曰堤长一十九里二百三十五歩五尺　甲县夫筑一千二十六丈【乙丙丁同】　乙县夫筑一千七百六十八歩五尺六寸【甲丙丁同】　丙县夫筑四里三百二十八歩五尺六寸【甲乙丁同】　丁县夫筑【同前三县数】
按四县所筑堤长等则丈数歩数里数皆同今以三数分载三县下而复注以与某县同殊混人目
术曰置各县力以程功程为实以力率乗堤齐阔为法除之得各县日筑复数【有分者通之互乗之得通数】求总等不约一位约众位曰元数连环求等约竒得定母陆续求衍数竒数乗率用数以丙丁县不及数乘本用并为总数以定母相乘为衍母满母去总数得各县分给里歩积尺数以县数因之为堤长各以里法歩法约之为里歩
草曰置甲县力一十三万八千六百贯乙县力一十四万六千三百贯丙县力一十九万二千五百贯丁县力一十八万四千八百贯以程功六十尺徧乗之皆以贯黙【按贯黙乃以一贯千文为法之名与前官陌市陌名相似】约之甲得八百三十一万六千尺乙得八百七十七万八千尺丙得一千一百五十五万尺丁得一千一百八万八千尺各为实次以力率七百七十贯乗堤齐阔二十尺亦以贯黙约之得一万五千四百尺为法徧除诸各实甲得五十四丈乙得五十七丈丙得七十五丈丁得七十二丈各为四县众夫每日筑长率按大衍术命曰复数列右行
以复数【按前术以尾数在十以上者为复数此数不合】求总等得三大【按此条原本皆以丈为寸于义无取今皆改正】以约三位多者不约其少者甲得五十四乙得一十九丙得二十五丁得二十四仍为元数次以两两连环求等各约之
按四县每日筑长数皆以丈为单位非位数也但一等数可以度尽四数必先求总等约之然后可以为元数即此可见总等法不独用于通数复数也
先以丁丙求等又以丁乙求等皆得一不约次以丁甲求等得六只约甲五十四得九不约丁次以丙与乙求等又以丙与甲九求等皆得一不约后以乙与甲九求等得一不约复验甲九与丁二十四犹可再约又求等得三以约丁二十四得八复乘甲为二十七
次以定母四位相乗求得一十万二千六百为衍母各以定母约衍母甲得三千八百乙得五千四百丙得四千一百四丁得一万二千八百二十五为衍数
满定母各去衍数甲不满二十乙不满四丙不满四丁不满一各为竒数
以各定母与本竒数用大衍求一术入之各得乘率甲得二十三乙得五丙得一十九丁得一
以右行乗率对乘寄左行衍数甲得八万七千四百乙得二万七千丙得七万七千九百七十六丁得一万二千八百二十五各为用数
次验四县所筑有无不及零丈尺寸今甲乙俱毕为无丙余五十一丈丁余一十八丈为有以丙丁二县余丈各乗丙丁二用数其丙五十一丈乗丙用七万七千九百七十六得三百九十七万六千七百七十六丈为丙总以丁余一十八乗丁用一万二千八百二十五得二十三万八百五十丈为丁总并二总得四百二十万七千六百二十六丈为总数亦以丈通衍母得一十万二千六百丈仍为衍母满去总数不满一千二十六丈为所求长率以四县因之得四十一百四丈为实以歩法五尺八寸除之得七千七十五歩五尺为堤长歩以里法三百六十歩约之得一十九里二百三十五歩五尺为堤通长置长率一千二十六丈以歩法约之得一千七百六十八歩五尺六寸又以里法约之得四里三百二十八歩五尺六寸为各县所给道里歩尺数
余米推数
问有米铺诉被盗去米一般三箩皆适满不记细数今左壁箩剰一合中间箩剰一升四合右壁箩剰一合后获贼系甲乙丙三名甲称当夜摸得马杓在左壁箩舀入布袋乙称踢着木履在中箩舀入袋丙称摸得漆椀在左邉箩舀入袋将归食用日乆不知数索到三器马杓满容一升九合木履容一升七合漆椀容一升二合欲知所失米数计赃结防三盗各防何答曰共失米九石五斗六升三合环甲米三石一斗九升二合　乙米三石一斗七升九合丙米三石一斗九升二合
术曰以大衍求之列三器所容为元数连环求等约为定母以相乘为衍母以定各约衍母得衍数各满定母去之得竒以竒定用大衍求得乘率以乘衍数得用数次以各剰米乗用并之为总满衍母去之不满为毎箩米各以剰米减之余为甲乙丙盗米并之为共失米
草曰列三器所容一升九合一升七合一升二合为元数连环求等皆得一不约便以元数相乗得三千八百七十六为衍母以各元数为定母以定约衍母得衍数甲得二百四乙得二百二十八丙得三百二十三各为衍数列左行以三定母甲十九乙十七丙十二列右行具图如后
各满定母去衍数得竒数甲得一十四乙得七得七丙得一十一
各以竒定用大衍求一各得乗率甲得十五乙得五丙得一十一各为乘率列右行对寄在行衍数具图如后
以丙行对乗之得用数甲得三千六十乙得一千一百四十丙得三千五百五十三列右行具图如后
既得用数始验问题三箩剰米列左行对三人所用以两行对乗之甲得三千六十乙得一万五千九百六十丙得三千五百五十三
并三数得二万二千五百七十三为总数满衍母三千八百七十六去之不满三千一百九十三合展为三石一斗九升三合为三箩适满细数以左箩剰一合减之余三石一斗九升二合为甲盗米又为丙盗米以中箩剰米一升四合减之余三石一斗七升九合为乙盗米并三人共得九石五斗六升三合为所失总米合问
程行计地
问军师获防当早防差急足三名徃都下节节走报具甲于前数日申末到乙后数日未正到丙于今日辰未到据供甲日行三百里乙日行二百四十里丙日行一百八十里问自军前至都里数及三人各行日数防何
答曰军前至都三千三百里　甲行一十一日乙行一十三日四时半　　丙行一十八日二时
术曰以大衍求之置各行里先求总等存一约众得原里次以连环求等约竒复乘偶得定母以定相乘为衍母满定除衍
衍得乘率以乘衍数得用数　次置辰刻正末乗各行里为实以昼六时约之得余里各乗用数并为总满衍母去得所求至都里以各日行约之得日辰刻数草曰置甲三百里乙二百四十里丙一百八十里先求总等得六十只存甲三百勿约乃约乙二百四十得四次约丙一百八十得三各为元数连环求等
先以丙乙求等得一不约次以丙甲求等三于术约竒不约偶盖以等三约三因得一为竒卢无衍数乃便径先约甲三百为一百复以等三兼丙三为九既丙九为竒甲百为偶此即是约竒弗约偶次以一四与甲百求等得四以四约一百得二十五为甲复以四乗乙四得一十六为乙各为定母
以定母相乗得三千六百为衍母以各定约衍母为衍数甲得一百四十四乙得二百二十五丙得四百
术数各满衍母去之不满为竒数甲得一十九乙得一丙得四
以各竒数与定母用大衍入之各得乘数甲得四乙得一丙得七各为乗率列右行
以乗率对乘寄左行衍数甲得五百七十六乙得二百二十五丙得二千八百各为用数
次置甲申末到者其酉初为夜此是甲以全日到为无余里次置乙于未正到乃于卯时数至未正得四个半时以四半乗乙行二百四十里得一千八十为实以画六时约之得一百八十里为乙行不及全日之余里次置丙于辰未到自卯初数至辰未得二时以因丙行一百八十里得三百六十为实以六时除之得六十里为丙行不及全日之余里
以乙余一百八十乗乙用二百二十五得四万五百于中以丙余六十乗丙用二千八百得十六万八千加中共得二十万八千五百为总满衍母三千六百去之不满三千三百里为军前至都里以甲三百除之得一十一日以乙二百四十除之得一十三日四时半以丙一百八十除之得一十八日二时合问按凡总等数必小于连环等数若甚大即为连环等数此题数是也故再约即用求续等法不然不能合也
程行相及
问有急足三名甲日行三百里乙日行二百五十里丙日行二百里先差丙徃他处下文字旣两日又有文字遣乙追付已半日复有文字续令甲赶付乙三人偶不相及乃同时俱至彼所先欲知乙果及丙甲果及乙得日并里次问彼处去此里数各防何
按题意谓三行迟疾不同乙后丙两日甲后乙半日问防日防里可以追及又旣及之后三人不能同行及各至彼处之时刻皆与各起程之时刻相同盖言自此至彼所行皆为整日数也
答曰乙果追及丙八日行二千里　甲果追及乙二日半行七百五十里　彼处去此三千里
术曰以均输求之大衍入之置乙己去日数乗乙行里为实以甲乙行里差为法除之得甲及乙日数辰刻以乗甲行得里次置丙旣去日乗丙行里为实以丙乙行里差为法除之得乙及丙日数以乗乙行得里然后置三人日行求总等约得原数以连环求等约得定母以定相乗得衍母各定约衍得衍数满定去衍得竒竒定大衍得乗率以乗寄衍得用数视甲及乙里为乙率乙及丙里为丙率以乙日行满去乙率不满为乙余以丙日行满去丙率不满为丙余以二余各乗本用并之为总满衍去之不满为彼去此里
草曰置乙己去日乘乙日行二百五十里得一百二十五里为实次置甲日行三百里减去乙行二百五十里余五十里为差法除实得二日五十刻甲果及乙数以乗甲行三百里得七百五十为甲及乙里数次置丙既行二百乗丙日二百里得四百里为实次置乙行二百五十里减丙行二百里余五十里为差法除实得八百为乙及丙日数以乗乙行二百五十里得二千里为乙得及丙之里数已上为先欲知果及数次列甲乙丙三名日行求总等得五十先约甲丙存得甲六乙二百五十丙四
以甲六丙四求等得二以二约甲为三复以二因丙为八次将乙二百五十与丙八相约得二乃约乙为一百二十五复以二因丙为十六定得甲三乙一百二十五两十六为定母
以定相乗得六千为衍母以各定约衍母得衍数甲得二千乙得四十八丙得三百七十五求竒数
左上二千以甲三去之竒二左中四十八即为乙竒左下三百七十五丙十六去之竒也
各以大衍求得甲二乙一百一十二丙七各为乘率
以乗率对乗衍数甲得四千乙得五千三百七十六丙得二千六百二十五为泛用数
并三泛得二万二千一乃多衍母一倍当半衍母六千得三千以消甲四千余一千又消乙五千三百七十六余二千三百七十六丙不消各为定用数
既得用数次视前草中甲及乙七百五十里为乙率乙及丙一千里为丙率各满乙丙日行里去之
今乙丙二人所行各皆适满去之无余虽称同时俱至乃各系全日所行便以乙丙二人约六千里得三千里为彼去此里数合问
按复数求元数用总等法尚属未密盖总等约后有当连环求等者有当即求续等者其法不能定也今少为变通凡复数皆见十者先以十为总等徧约之【百千万同】为元数俟连环求等毕复以总等十乗一数【百千万同】然后再求续等以得定数爰依题数具式于后
法列三数于上以十为总等徧约之得甲三十乙二十五丙二十即为元数连环求等以甲与乙约得等数五【竒】约甲得六【偶】以甲与丙约得等数二【偶】约甲得三【竒】为甲数徧约毕次以乙与丙约得等数五【竒】约丙得四【偶】为乙丙二数徧约毕乃以总等十乗乙数得二百五十次求续等以甲与乙与丙相约俱无续等以乙与丙约得续等二【偶】约乙数得一百二十五【竒】复乗丙得八则甲三乙一百二十五丙八即为各定数也以三定数连乗得三千为衍母即所问彼处去此之里数较旧术算省而数亦确矣
数学九章卷一下
<子部,天文算法类,算书之属,数学九章>
钦定四库全书

[book_title]数学九章卷二上
宋　秦九韶　撰天时
推气治厯
问太史测验天道庆元四年戊午嵗冬至三十九日九十二刻四十五分绍定三年庚寅嵗冬至三十二日九十四刻一十二分欲求中间嘉泰甲子嵗气骨嵗余斗分各得几何
按绍定三年庚寅之冬至实绍定四年辛夘之始辛夘距戊午三十四年积年为三十三
答曰气骨十一日三十八刻二十分八十一杪八十小分余嵗五日二十四刻二十九分三十杪三十小分斗分空日二十四刻二十九分三十杪三十小分
术曰先距前后年数为法置前测曰刻分减后测曰刻分余为率【不足减则加纪防】以纪防累加之今及天道合用五日以上数为实以法除实得嵗余去全日余为斗分以所求中间年上距前测年数乘嵗余益入前测日刻分满纪防去之余为所求气骨
草曰置前测戊午嵗距前嵗庚寅嵗得三十三为法置前测戊午嵗冬至三十九日【日辰癸夘】九十二刻四十五分减后测绍定三年庚寅嵗冬至三十二日【日辰丙申】九十四刻一十二分今后测者少不及前测者以减乃加纪法六十日于后测日内得九十二日九十四日一十二分然后用前测者减之余五十三日一刻六十七分为率按术当以法三十三余率须使啇数必得五日以上乃可今率未得五日乃两度累加纪法一百二十入率内共得一百七十三日一刻六十七分为刻实如法除之得五日二十四刻二十九分三十杪三十小分【不尽弃之】为嵗余乃去全五日得二十四刻二十九分三十杪三十小分为斗分次推嘉泰甲子上距庆元戊午嵗得六以乘嵗余五日二十刻刻二十九分三十杪三十小分得三十一日四十五刻七十五分八十一杪八十小分益入前测戊午嵗三十九日九十二刻四十五分得七十一日三十八刻二十分八十一杪八十小分满纪法六十去之余一十一日三十八刻二十分八十一杪八十小分为所求甲子　气骨之数合问
按气骨者年冬至时距甲子日子正初刻后之日分也嵗余者嵗实去六甲子之余日分也斗分者嵗实去三百六十五日之余分也此未知嵗实之法故先以前后两气骨相减余数为实以积年为法除之嵗余约五日余纪日六十故实数内累加六十日至啇得五日上而止则实数为积嵗余之数以积年除之得嵗余日分既得嵗余以甲子积年六乘之得甲子积嵗余与前测气骨相加满纪法去之余即甲子气骨也
治厯推闰
问开禧厯以嘉泰四年甲子嵗天正冬至为一十一日【日辰乙亥】四十四刻六十一分五十四杪十一月经朔一日【日辰乙丑】七十五刻五十五分六十二杪问闰骨闰率各几何
答曰闰骨九日六十九刻五分九十一杪【不尽一百六十九分杪之一百二十一】
闰骨率十六万三千七百七十一
术曰以日法各通气朔日刻分杪各为气骨朔骨分其气骨分如约率而一约尽者为可用【或收弃余分在一刻以下者亦可用】然后与朔骨分相减余为闰骨率以日法约之为闰骨防
草曰置本厯曰法一万六千九百先通冬至一十一日四十四刻六十一分五十四杪得一十九万三千四百四十分二十六小分为实其歴约率系三千一百二十以约之得六十二可用其余小分二十六乃弃之只用一十九万三千四百四十为气骨分次置朔一日七十五刻五十五分六十二杪以本厯日法一万六千九百乘之得二万九千六百六十八分九十九杪七十八小分将近一分故于气骨内所弃二十六小分借二十二小分以补朔内收上得二万九千六百六十九为朔然后以朔骨分减气骨分余有一十六万三千七百七十一为闰骨率复以日法除之得闰骨防九日六十九刻五分九十一杪不尽一百二十一筭直命之为一百六十九分杪之一百二十一合问
按此题若置冬至日分内减经朔日分余九日六十九刻五分九十二杪得闰骨防此原草仅多一百六十九分杪之四十八尽草中气骨内弃小分二十六朔骨分内进二十二并之为一百六十九分杪之四十八其不径相减而必用通分约分累乘累除者为向后推筭用耳
治厯演纪
问开禧歴积年七百八十四万八千一百八十三欲知推演之原调日法求朔余朔率斗分嵗率嵗闰入元嵗入闰朔定骨闰泛骨闰缩纪率气元率元闰元数及气等率因率蔀率朔等数因数蔀数朔积年二十三事各几何
答曰日法一万六千九百
朔余八千九百六十七
朔率四十九万九千六十七
斗分四千一百八
嵗率六百一十七万二千六百八
嵗闰一十八万三千八百四
入元嵗九千一百八十
入闰四十七万四千二百六十
朔定骨二万九千六百六十九
闰泛骨一十六万三千七百七十一
闰缩一十八万八千五百七十八
纪率一百一万四千
气元率一万九千五百
元闰三十七万七千八百七十三
元数四百二
气等率五十二
因率一百四十四
蔀率三百二十五
朔等数一
因数四十五万七千九百九十九
蔀数四十九万九千六十七
朔积年七百八十三万九千
积年七百八十四万八千一百八
术曰以厯法求之大衍入之调日法如何承天术用强弱母子互乘得数并之为朔余以二十九日通日法增入朔余为朔率又以日法乘前厯所测冬至气刻分收弃末位为偶数得斗分与日法用大衍术入之求等数因率蔀率以纪乘等数为约率置所求气定骨如约率而一得数以乘因率满蔀率去之不满以纪法乘之为入元嵗次置嵗日以日法通之并以斗定分为嵗率以十二月乘朔率减嵗率余为嵗闰以嵗闰乘入元嵗满朔率去之不满为入闰与闰骨相减之得差【或适足便以入元嵗为积年后术并不用或差在刻分法半数以下者亦以入元嵗为积年】必在刻分法半数以上却以闰泛骨并朔率得数内减入闰余与朔率求闰缩【在朔率以下便为闰缩以上用朔率减之亦得】以纪法乘日法为纪率以等数约之为气元率以气元乘嵗闰满朔率去之不满为元闰虗置一亿减入元嵗余为实元率除之得乘限乃以元闰与朔率用大衍入之求得等数因数蔀数以等约闰缩得数以因数乘之满蔀数去之不满在乘限以下以乘元率为朔积年并入元嵗为演纪积年又加成厯年今人相乘演积年其术如调日法求朔余朔率立
斗分嵗余求气骨朔骨闰骨及衍等数约率因率蔀率求入元嵗嵗闰入闰元率元闰已上皆同此术但其所以求朔积年之术乃以闰骨减入闰余为之闰赢却与闰缩朔率列号甲乙丙丁四位除乘消减谓之方程乃求得元数以乘元率所得为之积年加入元嵗共为演纪嵗积年所谓方程正是大衍术【今人少知】非特置筭繁多初无定法可传甚是惑悮后学易失古人之术意故今术不言闰赢而曰入闰差者盖本将来可用入元嵗便为积年之意故今止将元闰朔率二项以大衍先求等数因数蔀者仍仿前前求入元嵗之术理假闰骨如气骨以等数为约数及求乘数蔀数以等约闰缩得因乘数满蔀去之不满在限下以乘元率便为朔积年亦加入元嵗共为演纪积年此术非惟止用乘除省便又且于自然中取见积年不惑不差矣新术敢不用闰赢而求者实知闰赢已存于入闰之中但求朔积年之竒分与闰缩等则自与入闰相合必满朔率所去故也数理精微不易窥识穷年致志感于梦寐幸而得知谨不敢隐草曰本厯以何承天术调得一万六千九百为日法系三百三十九强一十七弱先以强数三百三十九乘强子二十六得八千八百一十四于上次以弱数一十七乘弱子九得一百五十三并上共得八千九百六十七为朔余次以日法通朔防二十九日得四十九万一百增入朔余得四十九万九千六十七为朔率又以日法乘统天厯所测毎嵗冬至周日下二十四刻三十一分得四千一百八分三十九杪为斗泛分验八分既偶遂弃三十九杪只以四千一百八分为斗定分与日法以大衍术入之□得五十二为等数一百四十四为因率三百二十五为蔀率以甲子六十为纪法乘等数得三千一百二十为约率却置本厯上课所用嘉泰甲子嵗气骨一十一日四十四刻六十一分五十一杪以乘日法得一十九万三千四百四十分二十六杪为气泛骨欲满约率三千一百二十而一故就近乃弃微杪只以一十九万三千四百四十为气定骨然后以约率三千一百二十除之得六十二以因率一百四十四乘之得八千九百二十八满蔀率三百二十五去之不满一百五十三以纪法六十乘之得九千一百八十年为入元嵗次置嵗　三百六十五以日法乘之得六百一十六万八千五百并斗定分四千一百八得六百一十七万二千六百八为嵗率却以十二月乘朔率四十九万九千六百七得五百九十八万八千八百四率内减去此数余一十八万三千八百四为嵗闰以嵗闰乘入元嵗九千一百八十得一十亿八千七百三十二万七百二十满朔率去之不满四十七万四千二百六十为入闰次置本厯所用嘉泰甲子嵗天正十一月朔一日七十五刻五十五分六十二杪以日法乘之得二万九千六百六十八分九千九百七十八杪为朔泛骨就近收杪为一分共得二万九千六百六十九为朔定骨数然后乃以朔定骨减气骨一十九万三千四百四十余一十六万三千七百七十一为闰泛骨置日法以二百归除之得八十四半为半刻法次以入闰数内减去闰泛骨与入闰相课减之余三十一万四百八十九【此是闰赢】为差半刻法以上乃以闰泛骨并朔率共得六十六万二千八百三十八以入闰四十七万四千二百六十减之余一十八万八千五百七十八在朔率下便为闰缩次以纪防六十乘日法得一百一万四千为纪率以等数五十二归除纪率得一万九千五百【按即六十乘三百二十五之数为一蔀年数】为气元率以气元率乘嵗闰一十八万三千八百四得三十五亿八千四百一十七万八千满朔率去之不满三十七万七千八百七十三为元闰次置一亿【按此数似虗设不过取一亿之数为限耳此所求过限又将改率数以迁就之矣】以入元嵗元千一百八十减之余九千九百九十九万八百二十为实以元率一万九千五百为法除之得五千一二十七为乘元限数乃以元闰三十七万七千八百七十三余与朔率四十九万九千六十七用大衍术求之得等数一因等四十五万七千九百九十九蔀数四十九万九千六十七然后以等数一约闰缩只得一十八万八千五百七十八以因数四十五万七千九百九十九乘之得八百六十三亿六千八百五十三万五千四百二十二满蔀数四十九万九千六百七十去之不满四百二在乘元限数以下为可用以乘元率一万九千五百得七百八十三万九千年为数积年并入元嵗九千一百八十共得七百八十四万八千一百八十为嘉泰四年甲子嵗积算本厯系于丁夘嵗进呈又加丁夘三年共为七百八十四万八千一百八十三年为本厯积年合具绘图如后
按此术草内竒定相求有等数又有因数蔀数之异盖等数即度尽定竒两数之数因数为竒数之倍数任倍定竒二数相较但得一等数则竒之倍数即为因数蔀数者竒数最大之倍数也任倍竒定至两边相等无较数则竒数之倍数即谓之蔀数也等数甚小者因数不患其甚大有蔀数以限之也草中尚多讹舛正之于后
按此题术草皆曰何承天调日法而宋书所载何承天法并无甚率且各用数亦与此不同今细按其草日法已有定数所调者朔防余分也然从来朔防余分皆以实测之朔防分嵗实分两母子互乘相通即得并无所谓调法今所载强弱母子四数大约已有朔防余分与日法分相约而得非别有所本乃故设曲折以为竒也试以朔余分八千九百六十七分为第一条置日法分内减朔防余分余七千九百三十三为第二条以此二数数取之先置第一条减第二条余一千零三十四为第三条七因第三条以减第二条余六百九十五为第四条以第四条减第三条余三百三十九为第五条二因第五
条以减第四条余一十七为
第六条是第五条即强母数
第六条即弱母数矣次用第
五条第六条转求第一条以
取两子数置第六条于上二
因第五条加之得第五条者
二第六条者一共六百九十
五为第四条以第四条加第
五条得第五条者三第六条
者一共一千零三十四为第
三条七因第三条以加第四
条得第五条者二十三第六
条者八共七千九百三十三
为第二条以第二条加第三
条得第五条者二十六第六条者九共八千九百六十七为第一条是第五条倍数即强子数第六条倍数即弱子数矣至算式中以日法取强母数者则又以第五条第六条再约而得者如以第五条为实第六条为法为法商之初商得十以法乘初商得一百七十为初商积减实余一百六十九恰与百分日法分之一等故百除日法分为一数又三乘之得五百零七为实以四十九为法初商得十初商积为四百九十减实余十七乃以商十乘十七得一百七十与前初商积等故加与前余积等之百分日法分之一得三百三十九为五条之数名之曰强数也
次以日法乘朔防日得数并朔余为朔率
斗分见偶则弃见竒则收为偶
按此系弃分以下数不用也分为偶数即用其数分为竒数则杪微进一分并为偶数如无杪微即加一分
又按算中用数以日法分一万六千九百分为主斗分定为四千一百零八为偶数气骨分亦定为偶数其各时刻分皆由日分比例而得故变时刻分为日分求之无不合
<子部,天文算法类,算书之属,数学九章,卷二上>
<子部,天文算法类,算书之属,数学九章,卷二上>
按求入元嵗法用斗分与日法分求等率乘率盖以六十年之嵗实积分与纪法分相约后以六十除纪法分得日法分为定以六十除嵗实积分得斗分为竒求得蔀数乘数皆与六十年之嵗实积分与纪法分所求者同惟等数则为六十之一故以六十乘之为乘分以约气骨分然后以乘数乘之满蔀数去之所得用数为六十年之周数故以六十乘之始为年数此立法之意也然以六十年为周数则六十年之间其气骨数有合者则不可得故所得年数较以嵗实分纪分相求者为逺也
<子部,天文算法类,算书之属,数学九章,卷二上>
<子部,天文算法类,算书之属,数学九章,卷二上>
<子部,天文算法类,算书之属,数学九章,卷二上>
按气元一万九千五百乃前蔀数三百二十五以六十乘之之数盖求入元嵗用六十倍者故此仍用六十倍也
又按此皆用六十年嵗实分求得之数与用一嵗实分求得之数同盖因积年数为六十度尽之数若非六十度尽之数则得数必逺也今依其数另设一题以明其法
设宋开禧厯日法一万六千九百分嵗实分六百一十七万二千六百零八法纪率分一百零一万四千分朔率分四十九万九千零六十七分嘉泰甲子嵗天正冬至距甲子日子正后十九万三千四百四十分【古名气骨】十一月朔距甲子日子正后二万九千六百六十九分【古名朔骨】问距歴元甲子子正初刻冬至朔之积年几何
答曰七百八十四万八千一百八十年
法以纪率为纪定纪率除嵗率【即嵗实分】余八万八千六百零八分为纪竒依大衍术求至竒一百零三余分六百二十四余分可以度尽上数则命六百二十四为等数一百零三为乘数又求得竒一千六百二十五无余分则命一千六百二十五为蔀数乃以等数约气骨分得三百一十以乘数乘之得三万一千九百三十满蔀数去之余一千零五十五即专以气骨分求得距厯年之积年数也旧法以斗分【嵗余分四千一百零八】为竒日法为定求得等数一纪法六十乘之以约气骨得数以乘数乘之蔀数除之余数又以六千乘之为积年名入元嵗其术未密【详前】故所得积年为九千一百八十其数亦较逺也
次以蔀数【即嵗实纪法满一会年数】乘嵗率得一百亿三千四十八万八千满朔率去之余二十三万九千四百三十四旧名气元闰为朔竒朔率为朔定依前法求得等数一乗数六千二百五十一蔀率四十九万九千零六十七次以前所得积年乗嵗率满朔率去之余二十七万五千二百二十四为前朔距至前分数旧名入元闰以嘉泰甲子气骨朔骨相减得十六万三千七百七十一为后朔距至前分数旧名闰骨夫十一月朔常在冬至前退行今前逺后近是已退过一朔防则于后闰骨内加一朔防再减去入元闰余三十八万七千六百一十四为后朔前朔相差之分数旧名闰缩乃以等数约闰缩仍得原数以乘数乘之满蔀数去之余四千八百二十九为会数乃以一会年数【即前蔀数】乗之得七百八十四万七千一百二十五为朔积年加入前积年得七百八十四万八千一百八十为嘉泰甲子积年
又法仍按本法求之先以嵗率纪率朔率求总等朔率不尽无总等各率朔即为各元数次连环求等朔元不尽嵗元等数等数为六百二十四留嵗元不约约纪元得一千六百二十五分为纪泛定嵗元朔元即为嵗泛定朔泛定次求续等纪泛定嵗泛定等数为十三约嵗泛定乗纪泛定得四十七万四千八百一十六为嵗定二万一千一百二十五为纪定朔泛定即朔定三定数连乗得五○○五八八五五五四六九六○○○为衍母纪定朔定相乗得八一○九八三八七五为嵗衍嵗定
朔定相乗得二三六九六四
九九六六七二为纪衍嵗定
纪定相乗得一○○三○四
八八○○○为朔衍置各衍
数满各定数去之余嵗竒四
七二九六三纪竒二○○四
七朔竒二三九四三四次以
各定各竒求各乗数得嵗乗
数【此题不用嵗乗数求之以备其数】二四九
六七纪乗数二○○○八
朔乗数六二五一以各乘数
乗各衍数得各泛用数嵗泛
用二○一九八九三二○七
九四六二五纪泛用四七四
一一九五六五四四一三三
七六朔泛用六二七○○五
八　四八八○○○并三泛用与衍母数等则泛用即为定用乃以气骨乗纪定用得九一七一三六八八七一九六二八三四五五三四四○置气骨减去朔骨余十六万三千七百七十一以乘朔定用得一○二六八五三六七六七一○○二四八○○○并数得九二七四○五四二三九六三三八三七○一四四○满衍母去之余四八四四三七三八六五三四四○为实以嵗实分为法除之得七百八十四万八千一百八十即嘉泰甲子积年之数也此法较前法数繁然其理可互相发明后复设一法兼二法用之
三法先以嵗率纪率求等数得六百二十四专约纪率得一六二五分为纪元嵗率即为嵗元又求续等数得十三以约嵗元得四七四八一六为嵗定以乘纪元得二一一二五为纪定纪定嵗定相乘得一○○三○四八八○○○为衍母以纪定二一
一二五为嵗衍以嵗定四七
四八一六为纪衍嵗衍小于
嵗定即为嵗竒纪衍满纪定
去之余一○○六六为纪竒
次以各定各竒求各乘数得
嵗乗数二五四八六一纪乗
数九七八六以各乗数乗各
衍数得各用数嵗用数五三
八三九三八六二五纪用数
四六四六五四九三七六乃
以气骨乗纪用数得八九八
八二八五一一二九三四四
○满衍母去之余六五一二
一○一四四○为通积分为
实以嵗实分为法除之得一
千零五十五即专以气骨求
<子部,天文算法类,算书之属,数学九章,卷二上>
次以前衍母分【即嵗率纪率一会一千六百二十五年之积分】一○○三○四八八○○○与朔率分求等数得一即以前衍衍母分为嵗纪元亦即为嵗纪定以朔率分四九九○六七为朔元亦即为朔定二定数相乗得五○○
五八八五五五四六九六○○
○为衍母以朔定为嵗纪衍以
嵗纪定为朔衍嵗纪衍小于嵗
纪定即以嵗纪衍为嵗纪竒明
衍满朔定去之余二三九四
三四为朔竒各以定竒求乗
数得嵗纪乗数九九○四八
五二四○三朔乗数六二五
一以各乗数乗各衍数得嵗
纪泛用数四九四三一八四
九七四二○八○○一朔泛
用数六二七○○五八○四
八八○○○并二泛数与衍
母等则泛用数即为定用数
乃置前通积分六五一二一
○一四四○满朔率去之余
二七五二二四为入元第一
千零五十五年之闰分又置
嘉泰甲子气骨减去朔骨余
一六三七七一为嘉泰甲子
之闰分闰分每嵗渐加今后数小于前数是知已加过一朔率乃于后闰分内加一朔率分减去前闰分得三八七六一四为前后闰分差以乗朔定用数得二四三○三六二二八○五二七五六三二○○○满衍母去之余四八四三七二二六五五二○○○为实以嵗率为法收之得七百八十四万七千一百二十五为后积年数并前积年数共得七百八十四万八千一百八十年为嘉泰甲子积年与前数合
按右竒定相求其上层竒一数即大衍术中所谓立天元一也其逐层数即术中所谓递互乗余也其下层竒得数即术中所谓乗数也【有等数者求蔀数】古无笔算旧式所载不详兼多重舛伪之处集中惟此问甚繁故既设题以明其法复备録加减乗除之数以详其算式俾观者易见焉
缀术推星
问嵗星合伏经一十六日九十分行三度九十分去曰一十三度乃见后顺行一百一十三日一十十七度八十三分乃留欲知合伏段晨疾初段常度初行率末行率平行率各几何
按此以两积曰之递差积度求各行率也盖合伏初日其行最疾以次渐迟迟极则留总其积度略如递减差分故古法皆以其术歩之
答曰合伏一十六日九十分　常度三度九十度初行率二十三分九十七杪　平行率二十三分二杪　末行率二十二分七杪
晨疾初三十日　常度六度一十三分　初行率二十一分九十六杪　平行率二十分三十三杪　末行率一十八分七十杪
术曰以方程法求之置见日减一余半之为见率以伏日并见日为初行法以法半之如见率共为伏率以伏日乘伏率为伏差以见日乘见率为见差以伏日乘见差于上以见日乘伏差减上余为法以见日乘伏度为泛以伏日乘见度减泛余为实实满法而一为度不满退除为分杪即得日差
按此求逐日之递差为日差也术曰方程非也其所谓见数者乃徒设一数宛转附会使合于方程之行列也如　见日减一折半为见率并伏见日折半为半总日既以半总日加见率先以伏日乘之后以见日乗之复置见率先以见日乘之后以复日乘之相减然后为法岂非半总日不用加见率但以伏日见日连乘之即可为法乎特多立名目故为曲折颠倒使人不易办耳今去其见率另为歩算于后以明其立法之本意焉
法以合伏日除伏行度得二十三分
【七六九二三】为合伏日折中第八日四十五分一日之行度【即第七日九十五分至第八日九十五分之行度】以顺行日除顺行度得十五分【七七八七六一】为顺行日折中第五十六日五十分一日之行度两一日之行度相减行七分【一九八一六二】为合伏第八日四十五分与顺行第五十六日五十分两一日之行度较为实并合伏顺行两日数而半之得六十四日【九五】为合伏第八日四十五分至顺行五十六日五十分之积日为法除之得十一杪【二三六五八五】为一日递差之数即日差若不先用除则以两日数与两行度互乘相减为实两日数相乘又并两日数而半之再乘为法得数亦同
求初行率置初法减一余乘日差为寄以半初行法乘寄得数又加伏见度共为初行实以法退除之得合伏日初行率
按此求合伏第一日最疾之行也其法即递减差分有总数有次数有毎次差数求初次最大之数也初行法减一乘日差为寄者合伏初日与顺行末日两行率之差也半法乗寄与积差等故加共度为实以共日为法除之为合伏初日行率二十三分九十七杪也
求未行率以段日乘日差减初行率余为末行率按此求合伏末日之行率也以段日乘日差求合伏初末日两行率之较也既得初末日两行率之较以减初行率即末行率也
求平行率以初行率并未行率而半之为平行率按此即均分合伏度为毎日之平行率也与递加递减有首尾数求中数者同应与伏日除伏度数同不同者本非递差之数也
求交段差以各段常日下分数减全日一百分余乗末日行率为交段差
按此即各段日下分数不及一日所差之行分也求之以备后数加减
累减前段积度以益后段积度各为常度
按常度即各段积度也求晨疾初段常度见常中专解于后
草曰以伏日随伏度为右行以见日随见度为左行以度对度日对日其度于上日于中空其下列之
置见日一百一十三减一余一百一十二以半之得五十六为见率以伏日一十六日九十分并见日一百一十三得一百二十九日九十分为初行法
以初行法半之得六十四日九十五分并见率五十六日得一百二十日九十五分为伏率以初行法寄之以伏率归右下以对见率仍分左右两行为首图
以首图伏日一十六日九十分乗伏率一百二十日九十五分得二千四十四日五分五十杪为伏差于右下以首图见日一百一十三乘见率五十六得六十三百二十八日为见差于左下乃成次图　凡方程之术先欲得者存之以未欲得者互偏乘两行诸数今验此图先欲得日差故存其左右之上下以左右之中伏见日数互偏乘两行乃以次图右中伏日一十六日九十分先偏乘左行毕左上得三百一度三十二分七十杪左中得一千九百九日七十分左下得一十万六千九百四十三日二十分又以次图左中见日一百一十三偏乗右行毕右上得四百四十日七十分右中亦得一千九百九日七十分右下得二十三万九百七十八日二十一分五十杪
以两行　得变名泛积法而成才图乃验才图左上下皆少用减右行毕行上余一百三十九度三十七分三十杪为日差实右中空右下得一十二万四千三十五日一分五十杪为日差法今维图法多实少除得空度空分十一杪二十三小分六十五小杪不尽十杪五十五小分三十九小杪五十二微分五十微杪收为一小杪为日定差一十一杪二十三小分六十六小秒
既得日差乃行初行率置法图内初行法一百二十九日九十分内减去一日余一百二十八日九十分乗日差一十一杪二十三小分六十六小杪得空度一十四分四十八杪三十九小分七十七小杪四十微分为寄次置【按此下脱三十一字应作次置寄以半法乗之得九度四十分七十三杪四十三小分三十二小杪一十三微杪】
以得数加伏度三度九十分见度一十七度八十三分共得三十一度一十三分七十三杪四十三小分三十二小杪一十三微分为初行实如初行法一百二十九日九十分而一乃行空度二十三分九十七杪为伏合初日行率余三杪一十三分分三十二小杪一十三微分弃之
求末行率置合伏段日数一十六日九十分乗日差一十一杪二十三小分六十六小杪得一分八十九杪八十九小分八十五小杪四十微分为得数乃以得数减初行率二十三分九十七杪余二十二分七杪一十小分一十四小杪六十微分为合伏末日行
求平行率置初行率二十三分九十七杪并末行率二十三分七杪得四十六分四杪以半之得二十三分二杪为平行率
求交段差置合伏日下减全日一百分余一十分乘末行率二十二分七杪得二分二十杪七十小分为交段差
求晨疾初段常度置合伏日一十六日九十分乃收九十分作一日通为一十七日并旧厯所注晨疾初段常日三十得四十七为共日乗合伏初行率二十三分九十七杪得一十一度二十六分五十九杪为寄上
按此有第一日行度有逐日递减之差有前后各段日数有前段积度求后段积也先以共日乗初行率者以最疾为率之共积也下求递差以减之故为寄
乃副置共日四十七减一余四十六以半之得二十三乗副四十七得一千八十一以乗日差一十一杪二十三小分六十六小杪得一度二十一分四十六杪七十六小分四十六小杪以减上寄一十一度一十六分五十九杪余一十度五分一十二杪二十三小分五十四小杪为合伏晨疾初两段共积度按此乃求积差以减上数得共日之积庆也法应于共日内减一日以乘日差得数为共日数初末日行率之较再以共日数乘之得数折半为积差此先折半次连乘得积差其理亦同
置共积内减合伏三度九十分余六度一十五分一十二杪二十三小分五十四小杪为泛次以交段差二分二十杪七十小分减泛余六度一十二分九十一杪五十三小分五十四小杪为晨疾初段常度注厯乃收八杪五【按应作四】十六小分四十六小杪为全分常定度
按此于共积内减去合伏段积尚有合伏九十分不及一日所差之行分即交段差未减故为泛数再减交段差为晨疾初段常泛度再收为六度十三分始为定常度也
求晨疾初段初行率以日差一十一杪二十三小分六十六小杪减合伏末行率二十二分七杪余二十一分九十六杪为晨疾初段初行率行泛收之为定者也
按此以合伏末日之次日为晨疾初段之初日也故置合伏之末行率减一日之差即为晨疾初段之初行率五杪余收为六杪凡寄零未收名泛数已收名定数下仿此
求晨疾初末行率置晨疾初常日三十减一余二十九日乗日差一十一杪二十三小分六十六十小杪得三分二十五杪八十六小分一十四小杪以减晨疾初段初行率泛二十一分九十五杪七十六小分三十四小杪余一十八分六十九杪九十小分二十小杪为晨疾初末行率
按此求晨疾初段末日之行率也常日减一日乗日差得数为晨疾初段初末二日行率之较也故减初行率得末行率
求平行率以晨疾初初行泛二十一分九十五杪七十六小分三十四小杪并晨疾初末泛一十八分六十九杪九十小分二十小分得四十分六十五杪六十六小分五十四小杪以半之得二十分三十二杪八十三小分二十七小杪为晨疾初平行泛乃以三泛收弃为之定
按此与求合伏平行率同其言泛弃为定者盖截去杪下竒零过半则收为一杪也然语意欠明
又按五星行度迟疾差廻非递加递减之数术中仅以合伏与顺见二段各取中数至推遂日行度仍用递加递减之法故古法之疎五星尤甚原文语多隠晦令悉为解之可以见古今疎宻之所在焉
数学九章卷二上
<子部,天文算法类,算书之属,数学九章>
钦定四库全书

[book_title]数学九章卷二下
宋　秦九韶　撰天时
揆日究微
问厯代测景惟唐大衍厯最宻本朝崇天厯阳城冬至景一丈二尺七寸一分五十杪夏至景一尺四寸七分七十杪九系与大衍厯同今开禧厯临安府冬至景一丈八寸二分二十五杪夏至景九寸一分欲求临安府夏至后差防日而景与阳城夏至日等较以大衍厯晷景所差尺寸各防何
答曰大暑后五日午中景长一尺四寸八分八十
五杪
按旧本答数后有二图舛错潦草传冩者失其真也细考图内所载之数皆与今法颇合知此悉当时实测所定非同臆説也因取其数改正于后
<子部,天文算法类,算书之属,数学九章,卷二下>
置临安府所测冬至景一丈八寸二分二十五杪以夏至景九寸一分减之余九尺九寸一分二十五杪为景差以为实
置象限度九十一度三十一分四十四杪加一十一度二十五分二十七杪五十小分命度为寸得一百二寸五十六百七十一分五十杪为法以除前差实得空寸九十六百六十四分四十杪不尽弃之自乗得节泛数九千三百四十分不尽弃之
先以小暑节乗率二十五乗节率九千三百四十分得二十三寸三千五百分于上
次以临安夏至九寸一分自乗得八十二寸八千一百分为夏至幂
乃以夏至幂加上得一百六寸一千六百分为小暑幂以为实以一寸为隅开平方得一尺三分为临安小暑节景不尽七百分即寸下七毫弃之
按各节气影长皆当时实测所定本不待求今所设求法乃故为溟涬使人不可觧也细查其数首以象限加十一度余为法以除影差得数自乗为节率四每节下又有乗率以乗率节率相乗与夏至影幂相加即为本节影幂是知节率乃强取之数盖以此数先除各节影幂与夏至影幂之较名为乗率故以此与节率相乗加夏至影幂即各节影幂也数家设术误人往往如此
又以大暑乗率一百九乗节率九千三百四十分得一百一寸八千六十分于头位
仍以夏至幂八十二寸八千一百分加头位一百一寸八千六十分得一百八十四寸六千一百六十分为大暑幂以为实以一寸为隅开平方得一尺三寸五分八十七杪为大暑不尽弃之
又置立秋乗率二百八十九乗节率九千三百四十分得二百六十九寸九千二百六十分于上
仍置夏至幂八十一寸八千一百分加于上二百六十九寸九千二百六十分得三百五十二寸七千三百六十八为立秋幂
置立秋幂为实以一寸为隅开平方得一尺八寸七分八十一杪为立秋景不尽弃之
乃验阳城夏至景一尺四寸七分七十九杪在大暑后立秋前乃置大暑一尺三寸五分八十七杪并立秋景一尺八寸七分八十一杪得三尺二寸三分六十八杪以半之得一尺六寸一分八十四杪为大暑后九日景　又以九日景并大暑景得二尺九寸七分七千一杪以半之得一尺四寸八分八十五杪半为大暑后五日景
乃以大暑景得五日景得二尺八寸四分七十二杪半以半之得一尺四寸二分三十六杪少为大暑后三日景
又以五日景得三日景得二尺九寸一分二十一杪大以半之得一尺四寸五分六十杪八十七小分五十小杪为大暑后四日景
今验阳城夏至景一尺四寸七分七十九杪为入临安府大暑后四日景一尺四寸五分六十杪太强乃以四日减五日景余三分二十四杪太弱为景差以十二时除之得二十七杪五小分二十小杪为法
乃置阳城夏至景一尺四寸七分七十九抄减临安大暑后四日景一尺四寸五分六十杪八十七小分五十小杪余二分一十八杪一十二小分五十小杪为实后以法二十七杪五小分二十小杪除之实如法而一得商数八有余命大暑四日午后数八辰得大暑五日寅时景与阳城夏至之日午景等
求较以大衍厯晷景所差乃置阳城大暑景长一尺九寸五分七十六杪并阳城立秋景二尺五寸三分三十一杪得四尺四寸九分七杪以半之得二尺二寸四分五十三杪半为次暑后九日午中景
置九日景复并大暑景一尺九寸五分七十六抄得四尺二寸二十九杪半以半之得二尺一寸一十四杪太为大暑后五日景
今验开禧厯所推临安府大暑后五日午中景一尺四寸八分八十五杪半与阳城大暑后五日午中景尺一寸一十四杪太课之
乃以临安府五日景减阳城五日景差六寸一分二十九杪少
按此法不过以临安前后两节气影长比例一影长之日数时刻复以所得节气日数时刻比例一阳城影长与之相较耳题内引大行崇天开禧诸法名目又称其较同异差数皆故为张皇之语且影差逐日不同皆以平派求之法亦未宻也
草曰置临安府所测冬至景一丈八寸二分二十五抄以夏至景九寸一分减之余九尺九寸一分二十五抄为景差以为实置象度九十一度三十一分四十四杪加一十一度二十五分二十七杪半命度为寸得一百二寸五千六百七十一分半为法除实得空寸九千六百六十四分四十杪以自乗之得空寸九千三百四十分为节率先以小暑乗率二十五乗之得二十三寸三千五百分于上次以临安夏至景九寸一分自乗得八十二寸八千一百分为夏至景幂以加上得一百六寸一千六百分为小暑景幂开平方以一寸为隅开之得一尺三分为小暑景又以大暑乗率一百九乗节率九千三百四十分得一百一寸八千六十分于上仍加夏至幂八十二寸八千一百分得一百八十四寸六千一百六十分为大暑幂以为实一寸寸为隅开平方得一尺三寸五分八十七杪为大暑景又置立秋乗率二百八十九乗节率九千三百四十分得二百六十九寸九千二百六十分于上仍加夏至幂八十二寸八千一百分共得三百五十二寸七千三百六十为立秋幂以为实以一寸为隅开平方得一尺八寸七分八十一抄为立秋景乃验阳城夏至景一尺四寸七分七十九杪在大暑后立秋前乃并大暑立秋二景半之得一尺六寸一分八十四杪为大暑后九日景又并大暑景半之得一尺四寸八分八十五杪半为大暑后五日午中景又并大暑景得数半之得一尺四寸二分三十六杪少为大暑后三日景又并五日景一尺四寸八分八十五杪半得数半之得一尺四寸五分六十杪强为大暑后四日景验得阳城夏至景入临安大暑后四日乃以四日景减五日景余三分二十四杪太弱为差以十二时除之得二十七杪五小分二十小杪为法复除阳城景与本日景差二分一十八杪一十二小分五十小杪得八命外为在初五日寅时景等求较以大衍厯晷景所差乃置阳城大暑景长一尺九寸五分七十六杪并阳城立秋景二尺五寸三分三十一杪得四尺四寸九分七杪以半之得二尺二寸四分五十三杪半为大暑后九日午中景复并暑景一尺九寸五分七十六杪得四尺二寸二十九杪半以半之得二尺一寸一十四杪太为大暑后五日暑以较今开禧厯当日景一尺四寸八分八十五杪半差少六寸一分二十九杪少合问
接集中皆术在前草次之图在后此条之例不同
天池测雨
问今州郡多有天池盆以测雨水但知以盆中之水为得雨之数不知器形不同则受雨多少亦异未可以所测便为平地得雨之数假今盆口径二尺八寸底径一尺二寸深一尺八寸接雨水深九寸欲求平地雨防防何
答曰平地雨防三寸
术曰盆深乗底径为底率二径差乗水深并底率为靣率以盆深为法除靣率得面径以二率相乗又各自乗三位并之乗水深为实盆深乗口径以自之又三因为法除之得平地水深
草曰以盆深及径皆通为寸盆深得一十八寸底径得一十二寸相乗得二百一十六寸为底率置口径二十八寸减底径一十二寸余一十六寸为差以乗水深九寸得一百四十四寸并底率二百一十六寸得三百六十寸为靣率以盆深一十八寸为法除靣率得二十寸展为二尺为水靣径以底率二百一十六寸乗靣率三百六十寸得七万七千七百六十寸于上以底率二百一十六寸自乗得四万六千六百五十六寸加上又以靣率三百六十寸自乗得一十二万九千六百并上共得二十五万四千一十六以乗水深九寸得二百二十八万六千一百四十四寸为实以盆深一十八寸乗口径二十八寸得五百四寸自乗得二十五万四千一十六寸又三因得七十六万二千四十八寸为法除实得三寸为平地雨深合问
竹器验雪
问以圆竹箩验雪箩口径一尺六寸深一尺七寸底径一尺二寸雪防其中髙一尺箩体通风受雪多则平地少欲知平地雪髙防何
按箩体通风一语与算术不相涉或箩口所降之雪归于箩底与前天池测雨题相同然依上步算平地雪深只七寸余今其数又不合殆故为是语以误人也
答曰平地雪厚九寸三千四百二十九分之七百
六十四
术曰口径减底径余乗雪深半之自乗为隅以箩深幂乗雪深幂并隅又乗雪深幂为实隅实可约约之开连枝三乗方得平地雪厚
草曰列问数各通为寸置口径一十六寸减底径一十二寸余四寸乗雪深一十寸得四十寸以半之得二十寸自乗得四百寸为隅以箩深一十七寸自乗得二百八十九寸为箩深幂次置雪深一十寸自乗得一百寸为雪深幂以乗箩深幂数加隅又乗深幂得二百九十三万寸为实隅实求等得四百俱约之得七千三百二十五为实得一为隅开三乗方歩法不可超乃约实置商九寸与隅一相生得九为下亷又与商相生八十一寸为上亷又与商相生得七百二十九为从方乃命上商除实不尽七百六十四已而复以商生隅入二亷至方陆续又生毕以方亷隅共并之得三千四百三十九分寸之七百六十四为平地雪厚九寸三千四百三十九分寸之七百六十四合问
按此法之意不可见然以数考之非通法也设原题雪深为一寸以口径底径较四寸乗雪深一寸仍得四寸半之得二寸自之得四寸为隅以箩深一十七寸自之得二百八十九寸为箩深幂雪深一寸自之仍得一寸为雪深幂二深幂相乗仍得二百八十九寸并隅得二百九十三寸再以雪深幂乗之仍得二百九十三寸为实隅实相约得七十四寸二十五百分为实一为隅开三乗方得二寸又六千四百分寸之五千七百二十五是平地雪反深于箩内矣
列问数各通为十口径得一十六寸深一十七寸底径一十二寸箩中雪髙一十寸
乃以底径减口径余四寸乗雪深一十寸得四十寸以中得数二十寸自乗得四百寸为隅
以箩深一十七寸自乗得二百八十九寸为箩深幂
次置雪深一十寸自乗得一百寸为雪深幂
以雪深幂一百寸乗箩深幂二百八十九寸得二万八千九百寸并隅四百寸得二万九千三百寸为上
置头位数二万九千三百寸又乗雪深幂一百寸得二百九十三万寸为实开三乗方
以隅实求等得四百俱为约之得七千三百二十五为实一为隅开之
歩法不可超乃约实置商九寸与隅相生得九为下亷
下亷九又与商九相生得八十一为上亷
上亷又与商相生得七百二十九为从方
乃以从方七百二十九命上商九除实七千三百二十五讫实余七百六十四既而后以商生隅入下亷
下亷得一十八又与啇九相生入上亷
上亷得二百四十三又与商相生入方得二千九百一十六
又以商九生隅一入下亷一十八内得二十七
又以商九生下亷二十七入上亷二百四十三内得四百八十六又以商生隅入下亷二十七内得三十六为求图乃以末圆方亷隅四者并之得三千四百三十九为母以实余七百六十四为子
命为平地雪厚九寸三千四百三十九分寸之七百六十四合问
圆罂测雨
问以圆罂接雨口径一尺五寸腹径二尺四寸底径八寸深一尺六寸并里明接得雨水深一尺二寸圆法用宻率问平地雨水深防何
按此题问平地雨深无闗圆法宻率句赘若求罂中雨积数则当加此语
答曰平地雨深一尺八寸七万四千八十八分寸
之六万四千四百八十三
按答数误改正见后
术曰底径与腹径相乗又各自乗并之乗半罂深以一十一乗之为下率以四十二为下法除得下积以半罂深并雨深减元罂深余为上深以口径减腹径余乗上深为次以半罂深乗口径加次为靣率以半深除靣率得水靣径以半深乗腹径为腹率置靣率与腹率相乗又各自乗并之以一十一乗之为上率以半深自乗为幂以乗下法为上法上法除上率得上积半深幂乗下率并上率为总实口径幂乗上法为总法除实得平地雨髙
草曰置底径八寸与腹径二十四寸相乗得一百九十二寸于上又底径八寸自乗得六十四寸加上又腹径二十四寸自乗得五百七十六寸并上共得八百三十二寸以乗半罂深八寸得六千六百五十六寸又以一十一乗之得七万三千二百一十六寸为下率【按此下法不合皆为题中图法句所误】置宻率法一十四以所并三因之得四十二为下法以半深八寸并雨深一十二寸得二十寸以减元深一十六寸余四寸为上深以口径一十寸五分减腹径二十四寸余一十三寸五分以乗上深四寸得五十四寸为次以半罂深八寸乗口径一十寸五分得八十四寸加次共得一百三十八寸为靣率以半深八寸乗腹径二十四寸得一百九十二寸为腹率置靣率一百三十八寸与腹率一百九十二寸相乗得二万六千四百九十六寸于上又以靣率一百三十八寸自乗得一万九十四十四加上又以腹率一百九十二寸自乗得三万六千八百六十四并上共得八万二千四百四寸【按此条内落以上髙四寸乗之一层】以一十一乗之得九十万六千四百四十四寸为上率以半深八寸自乗得六十四寸为半深幂以乗下法四十二得二千六百八十八为上法以半深幂六十四寸乗下率七万三千二百一十六寸得四百六十八万五千八百二十四寸并上率九十万六千四百四十四共得五百五十九万二千二百六十八寸为总实以口径一十寸五分自乗得一百一十寸二分五厘以乗上法二千六百八十八寸得二十九万六千三百五十二寸为总法除实得一尺八寸不尽二十五万七千九百三十二与法求等得四俱约之为一尺八寸七万四千八十八分寸之六万四千四百八十三为平地雨深合问
按此法有二误法实皆当用圆幂或皆用方幂今以圆幂率乗实方幂率乗法法实不同类一误也罂内雨自腹径截之为雨圆防体下髙八寸上髙四寸于下体并三幂以髙乗之于上体只并三幂未以髙乗之二误也有此二误故得平地雨深少三十五分之十七今依本法改正于后
法以腹径底径相乗又各自乗并三积以半罂深八寸乗之得六千六百五十六寸为三倍方罂内腹下雨积又以口径腹径相减余一十三寸五分以雨深减罂深余四寸相乗以半罂深除之得六寸七分五厘与口径相加得一十七寸二分五厘为雨靣径与腹径相乗又各自乗并三积以雨上深四寸乗之得五千一百五十寸二五为方罂内三倍腹上雨积并二雨积得一万一千八百零六寸二五为方罂内三倍共雨积为实口径自乗三因得三百三十寸七五为法除实得三尺五寸又一千三百二十三分寸之九百二十为平地雨深若不先用除则以口径腹径较与罂深雨深较相乗之五十四寸为雨靣径口径较加一半罂乗之数【应以半罂除之得雨径较今不除即如雨径较以半罂乗之】即为雨靣径口径较此数既加一半罂乗则诸数皆以半罂乗之得口径八十四寸腹径一百九十二寸以口径与雨靣径口径较相加得雨靣径一百三十八寸与腹径相乗又各自乗并三幂以腹上雨深四寸乗之得三十二万九千六百一十六寸为三倍上雨积又以半罂深幂乗前三倍下雨积得四十二万五千九百八十四寸为三倍下雨积并二积得七十五万五千六百寸为三倍共雨积为实以半罂深幂乗三因口径幂得二万一千一百六十八寸为法除之得数亦同
峻积验雪
问验雪占年墙髙一丈二尺倚木去址五尺梢与墙齐木身积雪厚四寸峻积薄平积厚欲知平地雪厚防何
答曰平地雪厚一尺四分
术曰以少广求之连枝入之以去址自乗为隅以墙髙自乗并隅于上以雪厚自之乗上为实【可约者约而开之】开连枝平方得地雪厚
草曰以问数皆通为寸置去址五十寸自乗得二千五百为隅以墙髙一百二十寸自乗得一万四千四百寸并隅得一万六千九百寸于上以雪厚四寸自之得一十六乗上得二十七万四百寸为实开连枝平方今隅实可求等得一百俱约之得二千七百四为实得二十五为隅开平方得一十寸四分展为一尺四分为平地雪厚合问
按此术理法皆确然实用勾股不曰勾股而曰少广曰连枝者犹有所闭匿而不肯尽发也试以圗明之甲乙为墙上雪厚即平地雪厚乙丙为木上雪厚甲乙丙勾股形与木倚墙所成勾股形同式墙髙为大股木为大弦木去址为大
勾甲乙为小弦甲丙为小
股乙丙为小勾以墙髙大
股自乗木去址大勾自乗
并之为大弦幂为实以木
上雪厚乙丙小勾幂乗之以木去址大勾幂除之得甲乙小弦幂开平方即为平地雪厚也
数学九章卷二下
钦定四库全书

[book_title]数学九章卷三上
宋　张九韶　撰田域
按此卷以方圆斜直幂积相求即方田少广勾股诸法而术中累乘累除错综变换与常法回然其本则出于立天元一法今择其难解者
以立天元一法明之皆不攻自破矣
古池推元
问有方中古圆池堙圮北余一角从外方隔斜至内圆边七尺六寸欲就古迹修之欲求圆方方斜各几何荅曰池圆径三丈六尺六寸四百二十九分寸之
四百一十二
方面三丈六尺六寸四百二十九分寸之四百一十二　方斜五丈一尺八寸四百二十九分寸之四百一十二
术曰以少广求之投胎术【按即益积之名】入之斜自乘倍之为实倍斜为益方以半寸为从隅开投胎平方得径又为方面以隅并之共为方斜
草曰以斜七十六寸自乘得五千七百七十六倍之得一万一千五百五十二寸为实倍斜七十六寸得一百五十二为益方【按有长方积先求长其长濶较名益方】以半寸为从隅开平方置实一万一千五百五十二于上益方一百五十二于中从隅五分于下于下起歩约得百
古池图　　　　　　　乃于实上商置三百寸方
再进为一万五千二百【按再
进者以百乘之也】隅五进为五千
【按隅五分以百再乗得五千】以商隅相
生得一万五千为正方以
消益方一万五千二百其
益方余二百以与商相生
得六百投入实得一万二
千一百五十二又商隅相
生又得正方一万五千内消负方二百讫余一万四千八百为从方【按倍正方减益方之数】一退为一千四百八十以隅再退为五十乃于上商之次续商置六十寸与隅相生増入正方得一千七百八十乃命续商除实讫实余一千四百七十四次以商生隅増又正方为二千八十方一退为二百八隅再退为五分乃于续商之次又商置六寸与隅相生増入正方为二百一十一乃命商除实讫实不尽二百六寸不开为分子乃以商生隅増入正方又并隅共得二百一十四寸五分为分母以分母分子求等得五分为等数皆以五分约其分母分子之数为四百二十九分寸之四百一千二通命之得池圆径及方面皆三丈六尺六寸四百二十九分寸之四百一十二又倍隅斜七尺六十得一丈五尺二寸并径三丈六尺六寸共得五丈一尺八寸四百二十九分寸之四百一十二为方斜
按此术以立天元一法明之法立天元一为池径即方边自之得一平方为方幂倍之得二平方为斜幂寄左次倍斜至歩加天元一得一百五十二寸多一元为方斜自之得二万三千一百零四寸多三百零四元多一平方亦为斜幂与左相消雨边各减一平方得二万三千一百零四寸多三百零四元与一平方等寸数为实元数为较或两边各半之得一万一千五百五十二寸多一百五十二元多半平方与一平方等寸数为实元数半方数共为较术中所用葢次数也然不如前数之便至开方法即有长方积有长濶軗带纵先求长之法也
尖田求积
问有两尖田一叚其尖长不等两大斜三十九歩两小斜二十五歩中广三十歩欲知其积几何
荅曰曰积八百四十歩
术曰以少广求之翻法入之置半广自乘为半幂与小斜幂相减相乘为小率以半幂与大斜幂相减相乘为大率以二率相减余自乘为实并二率倍之为从上亷以一为益隅开翻法三乘方得积【一位开尽者不用翻法】
草曰置广三十歩以半之得一十五自乘得二百二十五为半幂以小斜二十五歩自乘得六百二十五为小斜幂与半幂相减余四百与半幂二百二十五相乘得九万歩为小率置大斜三十九歩自乘得一千五百二十一为大斜幂与半幂二百二十五相减余一千二百九十六与半幂二百二十五相乘得二十九万一千六百为大率以小率九万减大率余二十万一千六百自乘得四百六亿四千二百五十六万为实以小率九万并大率二十九万一千六百得三十八万一千六百倍之得七十六万三千二百为从上亷【按从上亷平方和数也】以一为益隅开玲珑翻法三乘方歩法乃以从亷超一位益隅超三位约商得十今再超进乃商置百其从上亷为七十六亿三千二百万其益隅为一亿约实置商八百为定商以商生益隅得八亿为益下亷又以商生下亷得六十四亿为益上亷与从上亷七十六亿三千二百万相消从上亷余十二亿三千二百万又与商相生得九十八亿五千六百万为从方又与商相生得七百八十八亿四千八百万为正积与元实四百六亿四千二百五十六万相消正积余三百八十二亿五百四十四万为正实又以益隅一亿与商相生得八亿増入益下亷为一十六亿又以益下亷与商相生得一百二十八亿为益上亷乃以益上亷与从上亷一十二亿三千二百万相消余一百一十五亿六千八百万为益上亷又与商相生得九百二十五亿四千四百万为益方与从方九十八亿五千六百万相消益余八百二十六亿八千八百万为益方又以商生益隅一亿得八亿増入益下亷得二十四亿又以商相生得一百九十二亿入益上亷得三百七亿六千八百万为益上亷又以商生益隅一亿得八亿入益下亷得三十二亿毕其益方一退为八十二亿六千八百八十万益上亷再退得三亿七百六十八万益十亷三退得三百二十万益隅四退为一万毕乃约正实续置置四十歩与益隅一万相生得四万入益下亷为三百二十四万又与商相生得一千二百九十六万入益上亷内为三亿二千六十四万又与商相生得一十二亿八千二百五十六万入从方内为九十五亿五千一百三十六万乃命上续啇四十除实适尽所得八百四十歩为田积今列求率开方图于后按此术以立天元一法明之法立天元一为尖积即大小两三角积和自之得一平方为和自乘以半广幂减大斜幂与余积相乘得二十九万一千六百歩为大三角积自乘以坐广幂减小斜幂与余数相乘得九万歩为小三角积自乘二自乘数并而倍之内减去和自乘得七十六万三千二百歩少一平方为较自乘与和自乘再相乘得七十六万三千二百平方少一三乘方寄左次以大小两三角积相减余二十万零一千六百歩为和较相乘数自之得四百零六亿四千二百五十六万歩与左相等则后歩数为实前平方数为从上亷三乘方数即益隅与草中所取之数悉合又按此苦以小率九万歩开平方得三百歩即小三角积以大率二十九万一千六百歩开平方得五百四十歩即大三角积并之得八百四十歩即尖积其法甚易然必如此费算者殆欲用立天元一法不求分积即得所问之总积也
正负开三乘方图
术曰商常为正　实常为负　从常为正　益常
<子部,天文算法类,算书之属,数学九章,卷三上>
<子部,天文算法类,算书之属,数学九章,卷三上>
<子部,天文算法类,算书之属,数学九章,卷三上>
<子部,天文算法类,算书之属,数学九章,卷三上>
已上系开三乘方翻法图后篇效此
三斜求积
问沙田一叚有三斜其小斜一十三里中斜一十四里大斜一十五里里法三百歩欲知为田几何
荅曰田积三百一十五顷
术曰以少广求之以小斜幂并大斜幂减中斜幂余半之自乘于上以小斜幂乘大斜幂减上余四约之为实一为从隅开平方得积
草曰以斜一十三里自乘得一百六十九里为小斜幂以大斜一十五里自乘得二百二十五里为大斜幂并小斜幂得三百九十四里于上以中斜一十四里自乘得一百九十六里为中斜幂减上余一百九十八里以半之得九十九里自乘得九千八百一里于上以小斜幂一百六十九乘大斜幂二百二十五得三万八千二十五减上余二万八千二百二十四以四约之得七千五十六里为实以为一隅开平方以隅超歩为一百乃于实上商置八十以商生隅得八百为从方乃命上商除实余六百五十六又以商生隅入方得数退一位为一百六十隅退二位为一乃于实上续商四里生隅入从方内得一百六十四乃命续商除实适尽所得八十四里为田积其形长八十四广一里以里法三百歩自乘得九万歩乘八十四里得七百五十六万歩以亩法二百四十除之得三万一千五百畆又以顷法一百畆约之得三百一十五顷
按此术以立天元一法明之法立天元一为三角积倍之得二元自之得四平方为中长幂乘底幂以大斜为底寄之又以小斜幂与大斜幂相加内减中斜幂得一百九十八里半之得九十九里为小分底与底相乘长幂自之得九千八百零一里为小分底幂乘底幂之数又以小斜幂大斜幂相乘得三万八千零二十五里为小分底幂乘底幂中长幂乘底幂各一内减小分底幂乘底幂之数余二万八千二百二十四里为中长幂乘底幂之数与寄数等两边各以四约之得七千零五十六里与一平方等里数为实方数即从隅也从二题同此
斜荡求积
问有荡一所正北濶一十七里自南尖穿径中长二十四里东南斜二十里东北斜一十五里西斜二十六里欲知畆积几何
荅曰荡积一千九百一十一顷六十畆
术曰以少广求之置中长乘北濶半之为寄以中长幂减西斜幂余为实以一为隅开平方得数减北濶余自乘并中长幂共为内率以小斜幂并率减中斜
幂余半之自乘于上以
小斜幂乘率减上余四
约之为实以一为隅开
平方得数加寄共为荡
积
草曰以中长二十四里
乘北濶一十七里得四
百八乃半之得二百四里为寄以中长自乘得五百七十六为长幂以西斜二十六里自乘得六百七十六为大斜幂以减长幂余一百里为实开平方得一十里以减北濶数一十七里余七里自乘得四十九里并长幂五百七十六得六百二十五为内率次置东小斜一十五里自乘得二百二十五为小斜幂又置东南中斜二十里自乘得四百为中幂却以小斜幂并率得八百五十以减中幂四百余四百五十乃半之得二百二十五自乘得五万六百二十五里于上又以小斜幂二百二十五乘率六百二十五得一十四万六百二十五减上余九万里以四约得二万二千五百为实开平方得一百五十并寄二百四里得三百五十四里为泛以里法三百六十自乘得一十二万九千六百歩乘泛得四千五百八十七万八千四百歩以畆法二百四十歩约之得一千九百一十一顷六十畆为荡积
计地容民
问沙洲一叚形如棹力广一千九百二十歩从三十六百歩大斜二千五百歩小斜一千八百二十歩以安集民每户给一十五畆欲知地积容民几何
荅曰池积一百四十九顷九十五畆　容民九百
九十九戸　余地一十畆
术曰以少广求之置广乘长半之为寄以广幂并从幂为中幂【按实大斜幂】以小斜幂并中幂减大斜幂【按实中斜幂】余半之自乘于上以小斜幂弃中幂减上余以四约之为实以一为隅开平方得数加寄共为积以每户给数除积得容民戸数
草曰置广一千九百
二十歩乘从三千六
百歩得六百九十一
万二千歩乃半之得
三百四十五万六千
歩为寄以广自乘得三百六十八万六千四百歩为广幂又以从自乘得一千二百九十六万步为从幂并广幂得一千六百六十四万六千四百步为中幂次以小斜一千八百二十歩自乘得三百三十一万二千四百歩为小斜幂又以大斜二千五百歩自乘得六百二十五万歩为大斜幂却以小幂并中幂得一千九百九十五万八千八百歩以大斜幂减之余一千三百七十万八千八百歩乃半之得六百八十五万四千四百歩自乘得四十六万九千八百二十七亿九千九百三十六万歩于上次以小斜幂乘中幂得五十五万一千三百九十五亿三千五百三十六万歩减上余八万一千五百六十七亿三千六百万为实以四约之得二万三百九十一亿八千四百万为实以一为隅开平方得一十四万二千八百歩并寄三百四十五万六千歩共得三百五十九万八千八百歩以畆法二百四十歩除之得一万四千九百九十五畆次以顷法一百畆约之为一百四十九顷九十五畆为地积又为实以每户所给一十五畆为法除实得九百九十九户不尽一十畆不及一戸所给数以为余地一十畆
蕉田求积
问蕉叶田一叚中长五百七十六歩中广三十四歩不知其周求积畆合几何
荅曰田积四十五畆一角【按六十歩为一角葢四分畆之一也】十一歩六万三千七十分歩之五千二百一十三
术曰以长并广再自乗又十乘之为实半广半长各自乘所得相减余为从方一为从隅开平方半之得积
草曰以长五百七十六歩并广三十四歩得六百一十两度自乘【按即自乘再乘】得二亿二千六百九十八万一千歩进一位即是以十乘之得二十二亿六千九百八十一万歩定得此数以为实置长五百七十六以半之得二百八十八自乘得八万二千九百四十四于上又置广三十四歩以半之得一十七自乘得二百八十九减上余八万二千六百五十五为从方以一为从隅开平方得二万一千七百四十二歩不尽一万四百二十六歩以商生隅入方又并隅算共得一十二万六千一百四十为母与不尽及开方田积数皆半之田积定得一万八百七十一步六万三千七十分歩之五千二百一十三以畆法二百四十约之得四十五畆一角一十一歩六万三千七十分歩之五千二百一十三
按此术以长与广相加自乘再乘又以十乘之为长方积以半长自乘半广自乘相减为长濶较求得阔折半为田积非法也此题中广甚小故得数较古法多七百余较密法少二千七百余若设长为七百零七广为二百九十三亦以此法求之长广相加自之再之又十乘之得一百亿为实半长半广各自之相减得十万零三千五百为长阔较求得阔折半得三万零四百二十六歩余为田积依宻法求之实十四万四千九百余歩所差甚逺其术之不合显然矣葢数必三乘而后可以平方求之今再乘之后仅以十进之宜其不可用也
漂田堆积
问三斜田被水冲去一隅而成四不等直田之状元中斜一十六步如多长水直五歩如少濶残小斜一十三歩如残大斜二十歩如元中斜之横量径一十二歩如残田之广又如元中斜之勾亦是水直之股欲求元积残积水积元大斜元中斜二水斜各几何
荅曰元积一百三十八歩一十一分歩之八水积一十二歩一十一分歩一八【按应一十三歩一十一分歩之七】
残积一百二十六歩
元大斜二十九歩一十一分歩之一
元小斜一十八歩一十一分歩之一【按应一十一分歩之十】水大斜九歩一十一分歩之一
水小斜五歩一十一分歩之一【按应一十一分歩之一】
术曰以少广求之连枝入之又勾股入之置水直减中斜余为法以中斜乘大残为大斜实以法除实得元大残以残大斜减之余为水大斜以法乘径又自之为小斜隅以水直幂并径幂为幂又乘径幂又乘中斜幂为小斜实与隅可约约之闭连枝平方得元小斜以残小斜减之余为水小斜以水直乘之为水实倍水小母为法除之得水积【按此处法踈】以水直并中斜乘径为实以二为法除之得残积以残积并水积共为元积分者通之重有者重通之
草曰以水直五减中
斜一十六余一十一
为法以中斜一十六
乘大残二十得三百
二十为大斜实以法
除之得二十九歩一
十一分歩之一为元大斜内减残大斜二十歩余九歩一十一分歩之一为水大斜以法一十一乘径一十二【按乘径可省】得一百三十二自之得一万七十四百二十四为小斜隅以水直五自乘得二十五为水直幂以径一十二自之得一百四十四为径幂并水直幂得一百六十九为幂以乘径幂【按此乘径幂亦可省葢以此乘复以此除徒为多筭耳】一百四十四得二万四千三百三十六于上又以中斜一十六自乘得二百五十六为中斜幂以乘上得六百二十三万一十六为小斜实开平方与隅求等得一百四十四俱约之实得四万三千二百六十四隅得一百二十一开方不尽以连枝术入之用隅一百二十一乘实四万三千二百六十四得五百二十三万四千九百四十四为定实以一为定隅开平方得二千二百八十八为实以约隅一百二十一除之得一十八歩不尽一百一十一【按一百一十整】与法一百二十一俱以一十一约之得一十一分歩之十为元小斜减残小斜一十三歩余五歩一十一分歩之一【按十讹一故下数误】为水小斜通歩内子得五十六以水直五歩乘之得二百八十为水实倍水小母一十一得二十二为法除之得一十二歩不尽一十六与法俱以二约之为一十二歩一十一分歩之八【按应一十二歩一十一分步之七】水积置中斜一十六并水直五得二十一乗径一十二得二百五十二以半之得一百二十六为残积以水并积共得一百三十八歩一十一分歩之八为元积【按应一百三十九步一十一分步之七】
数学九章卷三上
<子部,天文算法类,算书之属,数学九章>
钦定四库全书

[book_title]数学九章卷三下
宋　秦九韶　撰田域
环田三积
问环田大小圆田共三段环田外周三十步虗径八步大圆田径一十步小圆田周三十步欲知三田积及环田周通实径大圆周小圆径各防何
答曰环田积二十步二百三十六万二千二百五十六分步之一百二十九万八千二十五通径九步一十九分步之九　实径一步一十九分步之九　内周二十五步一十七分步之五
大圆田积七十九步五十三分步之三　周三十一步二十一分步之十三
小圆田积七十一步二百八十六分步之四十三　径九步一十九分步之九
术曰以方田及少广率变求之各置圆环径自乗为幂进位为实以一为隅开平方得周各置环圆周自乗为幂退位为实以一为隅开平方得径以周幂或径幂乗各实以一十六约之为实以一为隅开平方得圆积置环周幂乘径实十六约之为大率置虚径幂乗内周实十六约之为小率以二率相减之余以自乗为实并二率倍之为从上亷一为益隅开三乗方得环积置环周自乗退位为实一为隅开平方得通径以虚径减通径余为实径其有开不尽者约而命之
草曰置大圆径一十步自乗得一百为径幂进位得一千为实以一为隅开平方得三十一步不尽三十九为分子乃以隅生方又益隅共得六十三为分母以分子与母求等得三俱以三约之母子得二十一分步之一十三为大圆周三十一步二十一分步之一十三次以径幂一百乗前实一千得一十万以十六约之得六千二百五十为实以一为隅开平方得七十九步不尽九为分子乃以隅生方又增隅得一百五十九为分母以分子母求等得三俱以三约母子得五十三分步之三为大圆积七十九步五十三分步之三次置小圆田周三十步自乗得九百为周幂退位得九十为径实以一为隅开平方得九步不尽九以隅生方又益隅得一十九步之九为小圆径九步一十九分步之九次以周幂九百乗前实九十得八万一千以十六约之得五千六十二步五分为实以一为隅开平方得七十一步有不尽数二十一步五分为子以隅生方又益隅得一百四十三为分母以分子母求等得五分俱约之得二百八十六分步之四十三为积次置环田周三十步自乗得九百为周幂退位得九十为实以一为隅开平方得九步不尽九为分子以隅生方并隅得一十九为分母直命之为环田通径九步一十九分步之九次以环周幂九百乗环实九十得八万一千以十六约之得五千六十二步五分为大率次置环田虗径八步自乗得六十四为虗幂进位得六百四十为实以一为隅开平方得二十五步不尽一十五为分子以隅生方又并隅得五十一为分母与子求等得三俱约之得一十七分步之五为环田内周二十五步一十七分步之五次以虗幂六十四乗周实六百四十得四万九百六十以十六约之得二千五百六十为小率以小率减大率余二千五百二步五分自乗得六百二十六万二千五百六步二分五厘为实以大小二率并之得七千六百二十二步五分倍之得一万五千二百四十五为从上亷以一为益隅开玲珑三乗方得二十步不尽三十二万四千五百六步二分五厘为分子续啇无数乃以益隅一益下亷八十并之得八十一为减母次以从上亷一万二千八百四十五并从方五十七万七千八百得五十九万六百四十五以母八十一减之余五十九万五百六十四为分母以分子求等得二分五厘俱约之得二百三十六万二千二百五十六分步之一百二十九万八千二十五为环田积二十步二百三十六万二千二百五十六分步之一百二十九万八千二十五次置环田通径九步一十九分步之九以虚径八步减之余一步一十九分步之九为环田实径合问
按周径相求以进位退位为实者盖以径一周三有竒径一自之仍得一周自之略与十等故径幂升一位为周幂周幂降一位为径幂以省算亦法之巧者其径求周较宻率约大一百五十七分之一周求径约小一百五十九分之一然较古率则已宻矣其周幂径幂相乗十六约之开平方得圆积者盖周径相乗四归得圆积径自乗为方积故四归亦展为自乗十六之数约之得四分径之幂乗周幂之数故开方得圆积至求环积与前求尖田积同但彼立天元一为两积之和此立天元一为两积之较耳其式如左
法立天元一为环田积即内外两圆积之较自之得一平方为较自乗以大小率【即二圆积各自乗】并而倍之得一万五千二百四十五步内减较自乗得一万五千二百四十五步少一平方为和自乗与较自乗再相乗得一万五千二百四十五平方少一三乗方寄之次以大小率相减余二千五百零二步五分为和较相乗再自之得六百二十六万二千五百零六步二分五厘与寄数等即为实寄数内平方数即从上亷三乗方数即益隅
此圗照问列位以后照草运算
乃先置次大径以上副自乗得中以中进位为次实以一为下隅
凡九变至此得大圆径次求大圆积
上副自乗得中以次约之得下为实
凡十一变至此得大圆积次求小圆径
一十一变得小圆积次求环田通径当求环田通径盖环田之外周三十步与小圆田外周同则不遇与前七变诸圗一理兹不复繁乃求实径
凡九变得环田内周次求环积
<子部,天文算法类,算书之属,数学九章,卷三下>
<子部,天文算法类,算书之属,数学九章,卷三下>
<子部,天文算法类,算书之属,数学九章,卷三下>
<子部,天文算法类,算书之属,数学九章,卷三下>
开三乗方凡二十变至此得环田积数
求实径但以虚径减通径余一步一十九分步之九为环田实径
均分梯田
问户业田一段若梯之状南广小三十四步北广大五十二步正长一百五十步合系兄弟三人均分其田邉道各欲出入其地形难分经官乞分南甲乙北内欲知其田共积各人合得田数及各段正长大小广防何
答曰田共积二十六畆二百一十步
甲得八畆三角五十步　小广三十四步系元南广　大广四十步五万八千七百九分步之五万二千二百八十四大约百分步之八十九　正长五十七步二千四十五分步之　百五十三大约一百分步之四十一分乙得八畆三角五十步　小广同甲大广大广四十六步八万四千八百二十六亿
八千九百五十七万二千六百五十一分步之六万五千八百七十四亿五千四百八十二万五千二百八十三计大率约百分步之七十七分半强　正长四十九步四亿一千二百四十万六千二百九分步之二千二十七万六千三百一十九大约百分步之四分九厘
丙得八畆三角五十步　小广同乙大广大广五十二步系元北广　正长四十三步八千四百三十三亿七千九十万一千九百五分步之四千四百八十八亿八千六百二万九千四十六大约百分步之五十三分强
术曰以少广及从法求之并两广乗长得数以分田人数约之为通率半之为各积以长乗各积为共实以长乗南广为甲从方二广差半之为共隅开连枝平方得甲截长以甲长除通率得数减小广余为甲广即为乙小广以元长乗乙小广为乙从方置共隅共实开连枝平方得乙截长以乙长除通率得数减乙小广余为乙大广即为丙小广倂甲乙长减元长余为丙长以元大广为丙大广各有分者通之
草曰置小广三十四并大广五十二得八十六乗长一百五十得一万二千九百为实以兄弟三人约之得四千三百为通率半之得二十一百五十为各积以　法二百四十步约之得八畆不尽二百三十步以角法六十步约之得三角五十步是三人各得八畆三角五十步以元长一百五十步乗各积二千一百五十得三十二万二千五百为共实以长一百五乗小广三十四得五千一百为甲从方以小广大广余一十八乃半之得九为共隅开连枝平方【开方革更不繁具】得五十七步不尽三约为二千四十五分步之八百五十三为甲截长乃以分母二千四十五通全步内子共得一十一万七千四百一十八为法又以分母乗通率四千三百得八百七十九万三千五百为实以法除之得七十四步不尽一十万四千五百六十八与法求等得二俱约之为五万八千七百九分步之五万二千二百八十四乃以小广三十四步于所得全步七十四步内减之余四十步五万八千七百九分步之五万二千二百八十四为甲大广即为乙小广今次求乙长乃以分母五万八千七百九通乙小广四十步得二百三十四万八千三百六十内子五万二千二百八十四得二百四十万六百四十四又元长一百五十乗之得三亿六千九万六千六百为乙从方又以分母五万八千七百九通共实三十二万二千五百得一百八十九亿三千三百六十五万二千五百为乙实又以分母通共隅九得五十二万八千三百八十一为乙从隅开连枝平方【更不立草】得四十九步不尽二千二十七万六千三百十九隅并方共得四亿一千二百四十万六千三百九为母与不尽求等单一不可约乃定为四十九步四亿一千二百四十万六千三百九分步之二千二十七万六千三百一十九为乙截长以乙长母通全步内子得二百二亿二千八百一十八万五千四百六十为法以乙长七千七百三十三亿四千七百一十二万八千七百为实以法除之得八十七步不尽一百三十四亿九千四百九十九万三千六百八十与法求等得一百四十俱约之为八十七步一亿四千四百四十八万七千三十九分步之九千六百三十九万二千八百一十二为得数乃以乙小广母五万八千七百九乗得数子九千六百三十九万二千八百一十二得五万六千五百九十一亿二千五百五十九万九千七百八为泛却以得数母一亿四千四百四十八万七千三十九分乗乙小广子五万二千二百八十四得七万五千五百四十三亿六千三十四万七千七十六为寄数于上乃以小广母五万八千七百九乗得数母一亿四千四百四十八万七千三十九得八万四千八百二十六亿八千九百五十七万二千六百五十一以寄减泛今不及减乃破全步一为分并泛得八十六步十四万一千四百一十八亿一千五百一十七万二千三百五十九减去小广四十步及分余四十六步八万四千八百二十六亿八千九百五十七万二千六百五十一分步之六万五千八百七十四亿五千四百八十二万五千二百八十三为乙大广亦丙小广求丙长置甲长五十七步二千四十五分步之八百五十六乙长四十九步四亿一千二百四十万六千三百九分步之二千二十七万六千三百一十九以甲乙分母互乗子甲乙分母相乗得甲正长五十七步八千四百三十三亿七千九十万一千九百五分步之三千五百三十亿一千九百八十万五百四亿乙正长四十九步八千四百三十三亿七千九十万一千九百五分步之四百一十四亿六千五百七万二千三百五十五并甲乙长及分共长一百六步三千九百四十四亿八千四百八十七万二千八百五十九分用减元长一百五十步先破一步通分母作八千四百三十三亿七千九十万一千九百五减去甲乙长长余四十三步八千四百三十三亿七千九十万一千九百五分步之四千四百八十八亿八千六百二万九千四十六为丙正长
按此术以立天元一法明之法立天元一为甲正长南北广差折半得九以乗天元得九元以共正长除之得一百五十分天元之九为甲之半广差与小广相加得三十四步多一百五十分元之九再以天元乗之得三十四元多一百五十分平方之九即与每人分田二千一百五十步等两数各以分母一百五十乗之得三十二万二千五百步与九平方多五千一百元等步数为实元数为从方平方数为隅得甲正长求乙丙长广同此但多一带分故其数较繁
数学九章卷三下
钦定四库全书

[book_title]数学九章卷四上
宋　秦九韶　撰测望
按测望之法见于晋刘徽海岛算经原名重差其书一卷九题法简数宻此卷本其法而扩充之于古人之意实多所发明然其中譌舛之处较他卷尤甚今悉为正之至术有未合者更设法以附其后焉
望山高逺
问名山去城不知高逺城外平地有木一株高二丈三尺假为前表乃立后表与木齐高相去一百六十四歩先退前表三丈九寸次退后表三丈一尺三寸斜望山峯各与其表之端参合人目高五尺里法三百六十歩歩法五尺欲知山高及逺各防何
答曰髙二十里半零三歩五分歩之三　逺二十七里三百二十八歩五百七十五分歩之六十七
按术数误后入目距山系三十五里二百三十九歩一尺三寸其故详后
术曰以勾股求之重差入之置二退表相减余为高法通表间并法于上以目高减表高余乗上为寔寔如法而一得山高以法乗表高为逺法【按此条法误应以法乗表高与人目去地之较】以退后表乗髙寔为逺寔寔如法而一得山逺
望山髙逺图【按旧图画山木在术前今山改移于此】
草曰置后退表三丈一尺三
寸减前退表三丈九寸余
四寸为高法置表去木一百
六十四歩以歩法五十寸
通得八千二百寸为表间
并法四寸得八千二百四
寸于上以目髙五尺
减表高二丈三尺余通之为一百八十寸乗上得一百四十七万六千七百二十寸为髙实实如髙法四寸而一得三十六万九千一百八十寸为积寸次以歩法五十寸约之得七千三百八十三寸五分歩之三次以里法三百六十歩约之得二十里一百八十三歩五分歩之三为山髙【按此所得系人目上之山高若加人目高则多一歩】次以法四寸乘表高二丈三尺得九百二十为逺法【按误同前】以退后表三丈一尺三寸乗髙实一百四十七万六千七百二十寸得四亿六千二百二十一万三千三百六十寸为逺实实如逺法九百二十寸而一得五十万二千四百五寸二十三分寸之一十九为积寸乃以歩法五十寸乗逺法九百二十得四万六千寸为法亦除逺实得一万四十八歩不尽五千三百六十与法求等得八十俱以约之得五百七十五分歩之六十七又以里法三百六十歩约得二十七里三百二十八歩五百七十五分歩之六十七为山去后表入立望处等图如后
按术中求山髙法合其求逺以表髙乗高法为逺法则误葢本法应即以高法为逺法以退后表乗表问并法为寔即得后人目距山之逺今以退后表乗髙寔为寔而髙寔乃目高减表高乗表减并法之数则逺法亦当以目髙减表髙乗髙法今即以表髙乗之则法数大故得数小也
乃以头位八千二百四寸乗中一百八十寸得一百四十七万六千七百二十寸为髙寔
<子部,天文算法类,算书之属,数学九章,卷四上>
乃以歩法五十寸乗中位逺法九百二十寸得下位四万六千寸为后图中位歩寸法
乃以中除上得下位里数及零歩其不尽寸与法求得八十俱约之为歩分母子之数
临台测水
问临水城台立髙三丈其上架楼其下址侧脚濶二尺謢岸排沙下桥去址一丈二尺外椿露土髙五尺与址下平遇水涨时浸至址今水退不知多少人从楼上栏杆腰中驾一竿出外斜望水际得四尺一寸五分乃与竿端参合人目髙五尺欲知水退立深涸岸斜长自台址至水际各几何
按算题固不厌其难然必简而不漏繁而不赘始为合作如此题本意谓竿端与台址上下悬直则侧脚阔二尺句已赘又不明言人目距台边逺近皆故为黯黮也
术曰以勾股变法兼少广求之求涸岸斜长置出竿乘台髙为叚以去基乘叚为阔泛以岸髙乘叚为浅泛以目髙乘去基为约泛三泛可约者约之为定率不可约径为率以阔率自乘为阔幂以浅率自乘为浅幂并阔浅二幂共为竣幂复乘阔幂于上以台髙幂乘上为竣实次以阔率乘浅率为寄以台髙数乘阔率又乘约率得数内减寄余自乘为竣隅騐峻实峻隅两者可约求等约之为峻定实峻定隅开同休连枝平方得峻岸斜长【同休格先以隅开平方得数名同隅以同隅乘定实开之得数为寔以同隅为法除之得竣斜　按此条误草中乃即以定实开平方得数以同隅除之为竣斜也】求水退深基岸髙幂乘竣定实为深实以去岸幂并岸为幂乗竣定为深隅【其深实深□可约约之仍以同休格入之】开连枝平方得水退深
临防测水图【按旧图画楼防不画正髙在术前今改正移于此】
草曰以出竿四
十一寸五分乘
防髙三十尺得
一百二十四尺
五寸为段以去
址一十二尺乘叚得一千四百九十四以为阔泛以防岸髙五尺乘段一百二十四尺五寸得六百二十二尺五寸为浅泛以目髙五尺乗去址一十二尺得六十尺为约泛以阔泛浅约泛三者求等等得一尺五寸皆以约其阔泛得九百九十六尺为阔率其浅泛得四百一十五尺为浅率其约泛得四十尺为约率以阔率九百九十六自乗得九十九万二千一十六尺为阔幂以浅率四百一十五自乗得一十七万二千二百二十五尺为浅幂倂阔浅二幂得一百一十六万四千二百四十一为竣幂以阔幂九十九万二千一十六尺乘竣幂得一万一千五百四十九亿四千五百六十九万九千八百五十六尺于上又以台髙三十尺自乘得九百尺为台髙幂乗上得一千三十九万四千五百一十一亿二千九百八十七万四百尺为竣实次以阔率九百九十六乘浅率四百一十五得四十一万三千三百四十为寄以台髙三十乘阔率九百九十六得二万九千八百八十文乘约率四十得一百一十九万五千二百内减寄余七十八万一千八百六十尺自乗得六千一百一十三亿五百五万九千六百尺为隅以隅与竣实求等得二千四百八十万四百俱以约之得四千一百九十一万二千六百七十六尺为竣定实得二万四千六百四十九为竣定隅开同休连枝平方得竣岸至水际斜长验同休格乃以定隅二万四千六百四十九万为实先以一为隅开平方得一百五十七为同休法次以竣定实四千一百九十一万二千六百七十六尺为实亦以一为隅开平方得六千四百七十四尺为同休实实如同休法一百五十七而一求等得一俱以一各约之其法与余只得此数乃直命之得四丈一尺一百五十七分尺之三十七为涸岸斜长至水际求退水深置岸髙五尺自乗得二十五为岸髙幂乗竣定实四千一百九十一万二千六百七十六尺得一十亿四千七百八十一万六千九百为深泛以去岸一十二尺自乗得一百四十四尺为去岸幂并岸髙幕二十五尺得一百六十九尺以乗竣定隅二万四千六百四十九得四百一十六万五千六百八十一为隅泛置二泛求等得一百六十九俱约二泛得六百二十万一百为定实得二万四千六百四十九为深定隅开连枝平方得水退立深验同休格乃以深定隅二万四千六百四十九为实先以一为隅开平方得一百五十七为同休法次以深实实六百二十万一百为实亦以一为隅开平方得二千四百九十为同休实实如法一百五十七而一得一十五尺不尽一百三十五与法求等得一俱以一各约法与只得此数乃直命之得一丈五尺一百五十七分尺之一百三十五为水退立深数也
按此条术虽甚繁理数皆极精宻非兼通于勾股通分之法者不能立也但累乗累除错综变换皆未尝明言其不能无金鍼不度之疑今绘图以之并条拆其乘除各数于后
如图甲乙为防正髙乙丙为桩去
防址丙丁为岸髙乙戊为台址至
水际即为峻斜己庚为人目髙甲
庚为出竿戊癸为水面正深题有
甲乙防髙乙丙桩去址丙丁去桩
甲庚出竿己入庚
目髙求乙辛竣斜自丁防与丙丁平行相等作丁辛线自乙防与丙丁并行作丁作乙辛线自丁防与戊甲平行作丁壬防得壬丁辛勾股形内有乙丁辛勾股形一与乙丙丁辛等有乙丁壬三角形一与甲乙戊形同式法当以己庚小股乗庚辛大勾以甲庚小勾除之得壬辛大股次以乙丁三小角形下斜邉乗甲乙戊形直邉以乙辛减壬辛余壬乙为乙丁壬形直邉为法除之得乙戊为甲乙戊形下斜邉即所求防址至水际之峻斜其法只用丨除两次甚属易简即遇数不尽者以通分御之加一二次乗除可以乃必增至十余次多者始欲穷数之变就一题以为诸法之例非徒为繁难也试依术内逓次乗除之数逐条细论之
出竿【甲庚】乗髙防【甲乙】为段去址【乙丙】乗段为阔率【原名阔泛约之为阔率今即为阔率】为去址乗防髙出竿长幂之数阔率自乗为阔幂即如去址幂乗防髙出竿长幂自乗之数又即如去址幂乗防髙幂又乗出竿幂之数
岸髙【丙丁】乗段为浅率【原名浅泛约之为浅令即浅浅率】为岸髙乗防髙出竿长幂之数浅率自乗为浅幂即如岸髙幂乗台髙出竿长幂自乗之
✜✜✜✜✜✜✜✜✜✜✜✜✜✜✜✜未完待续>>>完整版请登录大玄妙门网✜✜✜✜✜✜✜✜✜✜✜✜✜✜✜✜✜✜✜✜✜✜✜

        </div>
      </div>
    </div>
  </div>
</div>
<!--update:2025-08-30 10:01:39-->
<script type="text/javascript" charset="UTF-8" src="/js/global.js"></script> 
<script type="text/javascript" charset="UTF-8" src="/js/Aimara.js"></script> 
<script type="text/javascript" charset="UTF-8" src="/js/main.js"></script> 
<script type="text/javascript" charset="UTF-8" src="/js/use_settings.js"></script>
</body>
</html>